<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Per Resource Events</title>
<meta content="Rahul Gupta" name="author">
<meta content="
       Per Resource Events is a minimal protocol built on top of HTTP that allows clients to receive  notifications  directly from any resource of interest. The Per Resource Events Protocol (PREP) is predicated on the idea that the most intuitive source for  notifications  about changes made to a resource is the resource itself. 
    " name="description">
<meta content="xml2rfc 3.22.0" name="generator">
<meta content="notifications" name="keyword">
<meta content="pubsub" name="keyword">
<meta content="draft-gupta-httpbis-per-resource-events-latest" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.22.0
    Python 3.10.12
    ConfigArgParse 1.7
    google-i18n-address 3.1.0
    intervaltree 3.1.0
    Jinja2 3.1.4
    lxml 4.9.4
    platformdirs 4.2.2
    pycountry 24.6.1
    PyYAML 6.0.1
    requests 2.32.3
    setuptools 70.2.0
    wcwidth 0.2.13
-->
<link href="draft-gupta-httpbis-per-resource-events.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Lora SemiBold'), local('Lora-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

:root {
  color-scheme: light dark;
  --background-color: #fff;
  --text-color: #222;
  --title-color: #191919;
  --link-color: #2a6496;
  --highlight-color: #f9f9f9;
  --line-color: #eee;
  --pilcrow-weak: #ddd;
  --pilcrow-strong: #bbb;
  --small-font-size: 14.5px;
  --font-mono: 'Oxygen Mono', monospace;
  scrollbar-color: #bbb #eee;
}
body {
  max-width: 600px;
  margin: 75px auto;
  padding: 0 5px;
  color: var(--text-color);
  background-color: var(--background-color);
  font: 16px/22px "Lora", serif;
  scroll-behavior: smooth;
}

.ears {
  display: none;
}

/* headings */
h1, h2, h3, h4, h5, h6 {
  font-family: "Cabin Condensed", sans-serif;
  font-weight: 600;
  margin: 0.8em 0 0.3em;
  font-size-adjust: 0.5;
  color: var(--title-color);
}
h1#title {
  font-size: 32px;
  line-height: 40px;
  clear: both;
}
h1#title, h1#rfcnum {
  margin: 1.5em 0 0.2em;
}
h1#rfcnum + h1#title {
  margin: 0.2em 0;
}

h1, h2, h3 {
  font-size: 22px;
  line-height: 27px;
}
h4, h5, h6 {
  font-size: 20px;
  line-height: 24px;
}

/* general structure */
.author {
  padding-bottom: 0.3em;
}
#abstract+p {
  font-size: 18px;
  line-height: 24px;
}
#abstract+p code, #abstract+p samp, #abstract+p tt {
  font-size: 16px;
  line-height: 0;
}

p {
  padding: 0;
  margin: 0.5em 0;
  text-align: left;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignRight.art-text pre {
  padding: 0;
  width: auto;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
/* font-family isn't space-separated, but =~ will have to do */
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignCenter.art-text pre {
  padding: 0;
  width: auto;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 0.5em 2em;
}
:is(ol, ul) :is(ol, ul) {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
:is(ul, ol).compact, .ulCompact, .olCompact {
  line-height: 1;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
  clear: left;
  --indent: 3ch;
  /* --indent: attr(indent ch); not supported in any browser, but we can dream */
}
dl.olPercent {
  --indent: 5ch;
}
dl > dt {
  float: left;
  margin-right: 2ch;
  min-width: 8ch;
}
dl.dlNewline > dt {
  float: none;
}
dl > dd {
  margin-bottom: .8em;
  margin-left: var(--indent) !important; /* stupid element overrides */
  min-height: 2ex;
}
dl.olPercent > dt {
  min-width: calc(var(--indent) - 2ch);
}
:is(dl.compact, .dlCompact) > dd {
  margin-bottom: 0;
}
:is(dl.compact, .dlCompact) > dd > :is(:first-child, .break:first-child + *) {
  margin-top: 0;
}
:is(dl.compact, .dlCompact) > dd > :is(:last-child) {
  margin-bottom: 0;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0;
}
:is(dd, span).break {
  display: none;
}

/* links */
a, a[href].selfRef:hover {
  text-decoration: none;
}
a[href] {
  color: var(--link-color);
}
a[href].selfRef, .iref + a[href].internal {
  color: var(--text-color);
}
a[href]:hover {
  text-decoration: underline;
}
a[href].selfRef:hover {
  background-color: var(--highlight-color);
}
a.xref:is(.cite, .auto), :is(#status-of-memo, #copyright) a {
  white-space: nowrap;
}

/* Figures */
tt, code, pre {
  background-color: var(--highlight-color);
  font: 14px/22px var(--font-mono);
}
tt, code {
  /* changing the font for inline elements leads to different ascender
     and descender heights; as we want to retain baseline alignment,
     remove leading to avoid altering the final height of lines
     note: this fails if these blocks take an entire line,
     a different solution would be great */
  line-height: 0;
}
:is(h1, h2, h3, h4, h5, h6) :is(tt, code) {
  font-size: 84%;
}
pre {
  border: 1px solid var(--line-color);
  font-size: 13.5px;
  line-height: 16px;
  letter-spacing: -0.2px;
  margin: 5px;
  padding: 5px;
}
img {
  max-width: 100%;
}
figure {
  margin: 0.5em 0;
  padding: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption, caption {
  font-style: italic;
  margin: 0.5em 1.5em;
  text-align: left;
}
@media screen {
  /* Auto-collapse boilerplate. */
  :is(#status-of-memo, #copyright) p {
    margin: -2px 0;
    max-height: 0;
    transition: max-height 2s ease, margin 0.5s ease 0.5s;
    overflow: hidden;
  }
  :is(#status-of-memo, #copyright):hover p,
  :is(#status-of-memo, #copyright) h2:target ~ p {
    margin: 0.5em 0;
    max-height: 500px;
    overflow: auto;
  }
  pre, svg {
    display: inline-block;
    overflow-x: auto;
  }
  pre {
    max-width: 100%;
    width: calc(100% - 22px - 1em);
  }
  svg {
    max-width: calc(100% - 22px - 1em);
  }
  figure pre {
    display: block;
    width: calc(100% - 25px);
  }
  :is(pre, svg) + .pilcrow {
    display: inline-block;
    vertical-align: text-bottom;
    padding-bottom: 8px;
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 0 2em;
  font-style: italic;
}
blockquote {
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  max-width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
}
table.right {
  margin-left: auto;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
table.left {
  margin-right: auto;
}
thead, tbody {
  border: 1px solid var(--line-color);
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 5px 10px;
}
th {
  background-color: var(--line-color);
}
:is(tr:nth-child(2n), thead+tbody > tr:nth-child(2n+1)) > td {
  background-color: var(--background-color);
}
:is(tr:nth-child(2n+1), thead+tbody > tr:nth-child(2n)) > td {
  background-color: var(--highlight-color);
}
table caption {
  margin: 0;
  padding: 3px 0 3px 1em;
}
table p {
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  margin-left: 3px;
  opacity: 0.2;
  user-select: none;
}
a.pilcrow[href] { color: var(--pilcrow-weak); }
a.pilcrow[href]:hover { text-decoration: none; }
@media not print {
  :hover > a.pilcrow {
    opacity: 1;
  }
  a.pilcrow[href]:hover {
    color: var(--pilcrow-strong);
    background-color: transparent;
  }
}
@media print {
  a.pilcrow {
    display: none;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid var(--line-color);
}
.bcp14 {
  font-variant: small-caps;
  font-weight: 600;
  font-size: var(--small-font-size);
}
.role {
  font-variant: all-small-caps;
}
sub, sup {
  line-height: 1;
  font-size: 80%;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: var(--small-font-size);
  line-height: 18px;
  --identifier-width: 15ch;
}
#identifiers dt {
  width: var(--identifier-width);
  min-width: var(--identifier-width);
  clear: left;
  float: left;
  text-align: right;
  margin-right: 1ch;
}
#identifiers dd {
  margin: 0;
  margin-left: calc(1em + var(--identifier-width)) !important;
  min-width: 5em;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
#toc nav ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
#toc nav li {
  line-height: 1.3em;
  margin: 2px 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
#toc a.xref {
  white-space: normal;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 10ch;
  margin-right: 1.5ch;
}
.references dt:target::before {
  content: "⇒";
  width: 15px;
  margin: 0 10px 0 -25px;
}
.references dd {
  margin-left: 12ch !important;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
#rfc\.index\.index + ul {
  margin-left: 0;
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}
address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}
@media (min-width: 500px) {
  #authors-addresses > section {
    column-count: 2;
    column-gap: 20px;
  }
  #authors-addresses > section > h2 {
    column-span: all;
  }
  /* hack for break-inside: avoid-column */
  #authors-addresses address {
    display: inline-block;
    break-inside: avoid-column;
  }
}

.rfcEditorRemove p:first-of-type {
  font-style: italic;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 929px) {
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 1px 0 0 0;
    margin: 0;
    border-bottom: 1px solid #ccc;
    opacity: 0.6;
  }
  #toc.active {
      opacity: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 2px 0 2px 6px;
    padding-right: 1em;
    font-size: 18px;
    line-height: 24px;
    min-width: 190px;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 8px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    background-color: var(--background-color);
    padding: 0.5em 1em 1em;
    overflow: auto;
    overscroll-behavior: contain;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
  #toc.active nav {
    display: block;
  }
  /* Make the collapsed ToC header render white on gray also when it's a link */
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
  #toc a.toplink {
    margin-top: 2px;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 930px) {
  body {
    padding-right: 360px;
    padding-right: calc(min(180px + 20%, 500px));
  }
  #toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 480px);
    width: 312px;
    margin: 0;
    padding: 0;
    z-index: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 2em;
    overflow: auto;
    overscroll-behavior: contain;
    scrollbar-width: thin;
  }
  #toc nav > ul  {
    margin-bottom: 2em;
  }
  #toc ul {
    margin: 0 0 0 4px;
    font-size: var(--small-font-size);
  }
  #toc ul :is(p, li) {
    margin: 2px 0;
    line-height: 22px;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre, .vcard {
    page-break-inside: avoid;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  :is(h2, h3, h4, h5, h6)+*, dd {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
  .toplink {
    display: none;
  }
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
}

/* Changes introduced to fix issues found during implementation */

/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}

/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin: 8px 0.5em 0;
}

/* Provide styling for table cell text alignment */
table .text-left {
  text-align: left;
}
table .text-center {
  text-align: center;
}
table .text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 20em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Dark mode. */
@media (prefers-color-scheme: dark) {
:root {
  --background-color: #121212;
  --text-color: #f0f0f0;
  --title-color: #fff;
  --link-color: #4da4f0;
  --highlight-color: #282828;
  --line-color: #444;
  --pilcrow-weak: #444;
  --pilcrow-strong: #666;
  scrollbar-color: #777 #333;
}
}

/* SVG Trick: a prefix match works because only black and white are allowed */
svg :is([stroke="black"], [stroke^="#000"]) {
  stroke: var(--text-color);
}
svg :is([stroke="white"], [stroke^="#fff"]) {
  stroke: var(--background-color);
}
svg :is([fill="black"], [fill^="#000"], :not([fill])) {
  fill: var(--text-color);
}
svg :is([fill="white"], [fill^="#fff"]) {
  fill: var(--background-color);
}
</style>

</head>
<body class="xml2rfc">
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">PREP</td>
<td class="right">July 2024</td>
</tr></thead>
<tfoot><tr>
<td class="left">Gupta</td>
<td class="center">Expires 17 January 2025</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">HTTP</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-gupta-httpbis-per-resource-events-latest</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2024-07-16" class="published">16 July 2024</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2025-01-17">17 January 2025</time></dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">R. Gupta</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Per Resource Events</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">Per Resource Events is a minimal protocol built on top of HTTP that allows clients to receive <span id="iref-notification-1" class="iref"></span><a href="#notification" class="internal xref">notifications</a> directly from any resource of interest. The Per Resource Events Protocol (PREP) is predicated on the idea that the most intuitive source for <span id="iref-notification-2" class="iref"></span><a href="#notification" class="internal xref">notifications</a> about changes made to a resource is the resource itself.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note rfcEditorRemove" id="section-note.1">
      <h2 id="name-about-this-document">
<a href="#name-about-this-document" class="section-name selfRef">About This Document</a>
      </h2>
<p id="section-note.1-1">This note is to be removed before publishing as an RFC.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">
        The latest revision of this draft can be found at <span><a href="https://CxRes.github.io/prep/draft-gupta-httpbis-per-resource-events.html">https://CxRes.github.io/prep/draft-gupta-httpbis-per-resource-events.html</a></span>.
        Status information for this document may be found at <span><a href="https://datatracker.ietf.org/doc/draft-gupta-httpbis-per-resource-events/">https://datatracker.ietf.org/doc/draft-gupta-httpbis-per-resource-events/</a></span>.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
<p id="section-note.1-3">
        Discussion of this document takes place on the
        HTTP Working Group mailing list (<span><a href="mailto:ietf-http-wg@w3.org">mailto:ietf-http-wg@w3.org</a></span>),
        which is archived at <span><a href="https://lists.w3.org/Archives/Public/ietf-http-wg/">https://lists.w3.org/Archives/Public/ietf-http-wg/</a></span>.<a href="#section-note.1-3" class="pilcrow">¶</a></p>
<p id="section-note.1-4">Source for this draft and an issue tracker can be found at
        <span><a href="https://github.com/CxRes/prep">https://github.com/CxRes/prep</a></span>.<a href="#section-note.1-4" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 17 January 2025.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2024 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="auto internal xref">1.1</a>.  <a href="#name-motivation" class="internal xref">Motivation</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.2">
                <p id="section-toc.1-1.1.2.2.1" class="keepWithNext"><a href="#section-1.2" class="auto internal xref">1.2</a>.  <a href="#name-how-it-works" class="internal xref">How it Works</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.3">
                <p id="section-toc.1-1.1.2.3.1" class="keepWithNext"><a href="#section-1.3" class="auto internal xref">1.3</a>.  <a href="#name-scope" class="internal xref">Scope</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.4">
                <p id="section-toc.1-1.1.2.4.1"><a href="#section-1.4" class="auto internal xref">1.4</a>.  <a href="#name-audience" class="internal xref">Audience</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-design" class="internal xref">Design</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a href="#section-2.1" class="auto internal xref">2.1</a>.  <a href="#name-principles" class="internal xref">Principles</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a href="#section-2.2" class="auto internal xref">2.2</a>.  <a href="#name-goals" class="internal xref">Goals</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="auto internal xref">2.3</a>.  <a href="#name-constraints" class="internal xref">Constraints</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.4">
                <p id="section-toc.1-1.2.2.4.1"><a href="#section-2.4" class="auto internal xref">2.4</a>.  <a href="#name-known-limitations" class="internal xref">Known Limitations</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-conformance" class="internal xref">Conformance</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="auto internal xref">3.1</a>.  <a href="#name-document-conventions" class="internal xref">Document Conventions</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="auto internal xref">3.2</a>.  <a href="#name-requirements-notation" class="internal xref">Requirements Notation</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="auto internal xref">3.3</a>.  <a href="#name-classes-of-products" class="internal xref">Classes of Products</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a href="#section-3.4" class="auto internal xref">3.4</a>.  <a href="#name-interoperability" class="internal xref">Interoperability</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.5">
                <p id="section-toc.1-1.3.2.5.1"><a href="#section-3.5" class="auto internal xref">3.5</a>.  <a href="#name-terminology" class="internal xref">Terminology</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-header-fields" class="internal xref">Header Fields</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="auto internal xref">4.1</a>.  <a href="#name-accept-events" class="internal xref">Accept-Events</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.1">
                    <p id="section-toc.1-1.4.2.1.2.1.1"><a href="#section-4.1.1" class="auto internal xref">4.1.1</a>.  <a href="#name-validity" class="internal xref">Validity</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.2">
                    <p id="section-toc.1-1.4.2.1.2.2.1"><a href="#section-4.1.2" class="auto internal xref">4.1.2</a>.  <a href="#name-syntax" class="internal xref">Syntax</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="auto internal xref">4.2</a>.  <a href="#name-events" class="internal xref">Events</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.1">
                    <p id="section-toc.1-1.4.2.2.2.1.1"><a href="#section-4.2.1" class="auto internal xref">4.2.1</a>.  <a href="#name-validity-2" class="internal xref">Validity</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.2">
                    <p id="section-toc.1-1.4.2.2.2.2.1"><a href="#section-4.2.2" class="auto internal xref">4.2.2</a>.  <a href="#name-syntax-2" class="internal xref">Syntax</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-protocol" class="internal xref">Protocol</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="auto internal xref">5.1</a>.  <a href="#name-event-fields" class="internal xref">Event Fields</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="auto internal xref">5.2</a>.  <a href="#name-methods" class="internal xref">Methods</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="auto internal xref">5.3</a>.  <a href="#name-status-codes" class="internal xref">Status Codes</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-discovery" class="internal xref">Discovery</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="auto internal xref">6.1</a>.  <a href="#name-request" class="internal xref">Request</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="auto internal xref">6.2</a>.  <a href="#name-not-available" class="internal xref">Not Available</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="auto internal xref">6.3</a>.  <a href="#name-available" class="internal xref">Available</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-request-2" class="internal xref">Request</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-response-without-notificati" class="internal xref">Response without Notifications</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="auto internal xref">8.1</a>.  <a href="#name-not-available-2" class="internal xref">Not Available</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="auto internal xref">8.2</a>.  <a href="#name-error-response" class="internal xref">Error Response</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.3">
                <p id="section-toc.1-1.8.2.3.1"><a href="#section-8.3" class="auto internal xref">8.3</a>.  <a href="#name-notification-errors" class="internal xref">Notification Errors</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="auto internal xref">9</a>.  <a href="#name-notifications-response" class="internal xref">Notifications Response</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="auto internal xref">9.1</a>.  <a href="#name-headers" class="internal xref">Headers</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a href="#section-9.2" class="auto internal xref">9.2</a>.  <a href="#name-body" class="internal xref">Body</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2.2.1">
                    <p id="section-toc.1-1.9.2.2.2.1.1"><a href="#section-9.2.1" class="auto internal xref">9.2.1</a>.  <a href="#name-base-response" class="internal xref">Base Response</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2.2.2">
                    <p id="section-toc.1-1.9.2.2.2.2.1"><a href="#section-9.2.2" class="auto internal xref">9.2.2</a>.  <a href="#name-notifications" class="internal xref">Notifications</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3">
                <p id="section-toc.1-1.9.2.3.1"><a href="#section-9.3" class="auto internal xref">9.3</a>.  <a href="#name-termination" class="internal xref">Termination</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3.2.1">
                    <p id="section-toc.1-1.9.2.3.2.1.1"><a href="#section-9.3.1" class="auto internal xref">9.3.1</a>.  <a href="#name-examples" class="internal xref">Examples</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="auto internal xref">10</a>. <a href="#name-semantics-for-message-rfc82" class="internal xref">Semantics for <code>message/rfc822</code> notifications</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="auto internal xref">10.1</a>.  <a href="#name-request-3" class="internal xref">Request</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="auto internal xref">10.2</a>.  <a href="#name-notification" class="internal xref">Notification</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.3">
                <p id="section-toc.1-1.10.2.3.1"><a href="#section-10.3" class="auto internal xref">10.3</a>.  <a href="#name-headers-2" class="internal xref">Headers</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.4">
                <p id="section-toc.1-1.10.2.4.1"><a href="#section-10.4" class="auto internal xref">10.4</a>.  <a href="#name-body-2" class="internal xref">Body</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="auto internal xref">11</a>. <a href="#name-implementation-guidance" class="internal xref">Implementation Guidance</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="auto internal xref">12</a>. <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1"><a href="#section-12.1" class="auto internal xref">12.1</a>.  <a href="#name-browser-fingerprinting" class="internal xref">Browser Fingerprinting</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.2">
                <p id="section-toc.1-1.12.2.2.1"><a href="#section-12.2" class="auto internal xref">12.2</a>.  <a href="#name-denial-of-service-attacks" class="internal xref">Denial-of-Service Attacks</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-13" class="auto internal xref">13</a>. <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.1">
                <p id="section-toc.1-1.13.2.1.1"><a href="#section-13.1" class="auto internal xref">13.1</a>.  <a href="#name-header-field-registration" class="internal xref">Header Field Registration</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.2">
                <p id="section-toc.1-1.13.2.2.1"><a href="#section-13.2" class="auto internal xref">13.2</a>.  <a href="#name-notifications-protocol-regi" class="internal xref">Notifications Protocol Registry</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#section-14" class="auto internal xref">14</a>. <a href="#name-references" class="internal xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.1">
                <p id="section-toc.1-1.14.2.1.1"><a href="#section-14.1" class="auto internal xref">14.1</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.2">
                <p id="section-toc.1-1.14.2.2.1"><a href="#section-14.2" class="auto internal xref">14.2</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#appendix-A" class="auto internal xref"></a><a href="#name-index" class="internal xref">Index</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1"><a href="#appendix-B" class="auto internal xref"></a><a href="#name-authors-address" class="internal xref">Author's Address</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">The Per Resource Events Protocol defines a minimal HTTP-based framework by which clients can securely receive update <span id="iref-notification-3" class="iref"></span><a href="#notification" class="internal xref">notifications</a> directly from any resource of interest on the Open Web Platform.<a href="#section-1-1" class="pilcrow">¶</a></p>
<div id="motivation">
<section id="section-1.1">
        <h3 id="name-motivation">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-motivation" class="section-name selfRef">Motivation</a>
        </h3>
<p id="section-1.1-1">HTTP was originally designed to transfer a static documents within a single request and response. If the document changes, HTTP does not automatically update clients with the new versions. This design was adequate for web pages that were mostly static and written by hand.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
<p id="section-1.1-2">But web-applications today are dynamic. They provide (near-)instantaneous updates across multiple clients and servers. The many workarounds developed over the years to provide real-time updates over HTTP have often proven to be inadequate. Web programmers instead resort to implementing custom messaging systems over alternate protocols such as WebSockets, which requires additional layers of code in the form of non-standard JavaScript frameworks to synchronize changes of state.<a href="#section-1.1-2" class="pilcrow">¶</a></p>
<p id="section-1.1-3">Per Resource Events is a minimal protocol built on top of HTTP that allows clients to receive <span id="iref-notification-4" class="iref"></span><a href="#notification" class="internal xref">notifications</a> directly from a resource of interest. Unlike other HTTP based solutions, Per Resource Events Protocol supports the use of arbitrary media-types for <span id="iref-notification-5" class="iref"></span><a href="#notification" class="internal xref">notifications</a>, which can be negotiated just like representations; thus giving implementers a lot of flexibility to customize <span id="iref-notification-6" class="iref"></span><a href="#notification" class="internal xref">notifications</a> according to the needs of their application.<a href="#section-1.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="how-it-works">
<section id="section-1.2">
        <h3 id="name-how-it-works">
<a href="#section-1.2" class="section-number selfRef">1.2. </a><a href="#name-how-it-works" class="section-name selfRef">How it Works</a>
        </h3>
<div id="plain-request">
<section id="section-1.2.1">
          <h4>
<span></span>
          </h4>
<p id="section-1.2.1-1">Consider an ordinary HTTP <code>GET</code> request:<a href="#section-1.2.1-1" class="pilcrow">¶</a></p>
<span id="name-a-sample-http-get-request"></span><div id="plain-request-example">
<figure id="figure-1">
            <div class="alignLeft art-text artwork" id="section-1.2.1-2.1">
<pre>
GET /foo HTTP/1.1
Host: example.org
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-a-sample-http-get-request" class="selfRef">A sample HTTP `GET` request</a>
            </figcaption></figure>
</div>
</section>
</div>
<div id="simple-prep-request">
<section id="section-1.2.2">
          <h4>
<span></span>
          </h4>
<p id="section-1.2.2-1">A client application that wishes to receive PREP <span id="iref-notification-7" class="iref"></span><a href="#notification" class="internal xref">notifications</a> from a resource simply makes a <code>GET</code> request with just one additional <span id="iref-accept-events-8" class="iref"></span><a href="#accept-events-header" class="internal xref"><code>Accept-Events</code></a> header.<a href="#section-1.2.2-1" class="pilcrow">¶</a></p>
<span id="name-a-minimal-prep-notification"></span><div id="minimal-request-example">
<figure id="figure-2">
            <div class="alignLeft art-text artwork" id="section-1.2.2-2.1">
<pre>
GET /foo HTTP/1.1
Host: example.org
Accept-Events: "prep"
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-a-minimal-prep-notification" class="selfRef">A minimal PREP notifications request</a>
            </figcaption></figure>
</div>
<p id="section-1.2.2-3">Additional parameters might be added to the <span id="iref-accept-events-9" class="iref"></span><a href="#accept-events-header" class="internal xref"><code>Accept-Events</code></a> header to negotiate the form of <span id="iref-notification-10" class="iref"></span><a href="#notification" class="internal xref">notifications</a> as discussed in <a href="#request" class="auto internal xref">Section 7</a>, <a href="#request" class="internal xref">Request</a>.<a href="#section-1.2.2-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="plain-response">
<section id="section-1.2.3">
          <h4>
<span></span>
          </h4>
<p id="section-1.2.3-1">If a server does not implement the Per Resource Events Protocol, the <span id="iref-accept-events-11" class="iref"></span><a href="#accept-events-header" class="internal xref"><code>Accept-Events</code></a> header in a <code>GET</code> request is simply ignored. The resource returns the current representation thereby preserving backwards compatibility. Let us presume this response is:<a href="#section-1.2.3-1" class="pilcrow">¶</a></p>
<span id="name-response-to-the-sample-http"></span><div id="plain-response-example">
<figure id="figure-3">
            <div class="alignLeft art-text artwork" id="section-1.2.3-2.1">
<pre>
HTTP/1.1 200 OK
Last-Modified: Sat, 1 April 2023 10:11:12 GMT
Transfer-Encoding: chunked
ETag: 1234abcd
Content-Type: text/plain

Hello World!
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-response-to-the-sample-http" class="selfRef">Response to the sample HTTP `GET` request</a>
            </figcaption></figure>
</div>
</section>
</div>
<div id="simple-prep-response">
<section id="section-1.2.4">
          <h4>
<span></span>
          </h4>
<p id="section-1.2.4-1">However, if the server supports the Per Resource Events Protocol, it sends a multipart response with the current representation followed any <span id="iref-notification-12" class="iref"></span><a href="#notification" class="internal xref">notifications</a>.<a href="#section-1.2.4-1" class="pilcrow">¶</a></p>
<div id="simple-prep-response-headers">
<section id="section-1.2.4.1">
            <h5>
<span></span>
            </h5>
<p id="section-1.2.4.1-1">The response now includes an additional <span id="iref-events-13" class="iref"></span><a href="#events-header" class="internal xref"><code>Events</code></a> headers which specifies <code>prep</code> as the <span id="iref-notification-14" class="iref"></span><a href="#notification" class="internal xref">notifications</a> protocol and a status for the <span id="iref-notification-15" class="iref"></span><a href="#notification" class="internal xref">notifications</a> response. As a courtesy, the response also includes the <code>Vary</code> header to indicate that response was influenced by the <code>Accept-Events</code> header in the request and the <span id="iref-accept-events-16" class="iref"></span><a href="#accept-events-header" class="internal xref"><code>Accept-Events</code></a> header itself for reactive negotiation in the future.<a href="#section-1.2.4.1-1" class="pilcrow">¶</a></p>
<p id="section-1.2.4.1-2">The <code>Content-type</code> header now indicates a response body of <code>multipart/mixed</code> to reflect the two part response. Thus, we have the following response headers:<a href="#section-1.2.4.1-2" class="pilcrow">¶</a></p>
<span id="name-response-with-prep-notifica"></span><div id="intro-response-headers">
<figure id="figure-4">
              <div class="alignLeft art-text artwork" id="section-1.2.4.1-3.1">
<pre>
HTTP/1.1 200 OK
Last-Modified: Sat, 1 April 2023 10:11:12 GMT
Transfer-Encoding: chunked
ETag: 1234abcd
Events: protocol="prep", status=200
Vary: Accept-Events
Accept-Events: "prep"; accept="message/rfc822"
Content-Type: multipart/mixed; boundary="MAIN-SEPARATOR"
</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-response-with-prep-notifica" class="selfRef">Response with PREP Notifications - Headers</a>
              </figcaption></figure>
</div>
</section>
</div>
<div id="simple-prep-response-current-representation">
<section id="section-1.2.4.2">
            <h5>
<span></span>
            </h5>
<p id="section-1.2.4.2-1">The first part of this multipart response is the current representation of the resource:<a href="#section-1.2.4.2-1" class="pilcrow">¶</a></p>
<span id="name-response-with-prep-notificat"></span><div id="intro-response-current-representation">
<figure id="figure-5">
              <div class="alignLeft art-text artwork" id="section-1.2.4.2-2.1">
<pre>
--MAIN SEPARATOR
Content-Type: text/plain

Hello World!
</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-response-with-prep-notificat" class="selfRef">Response with PREP Notifications - Current Representation</a>
              </figcaption></figure>
</div>
<p id="section-1.2.4.2-3">The client can request for this to be skipped by specifying a <code>Last-Event-Id</code> header set either to the ID of the previous representation or <code>*</code> as described in <a href="#request" class="auto internal xref">Section 7</a>.<a href="#section-1.2.4.2-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="simple-prep-response-notification">
<section id="section-1.2.4.3">
            <h5>
<span></span>
            </h5>
<p id="section-1.2.4.3-1">The second part of this multipart response is itself a multipart message that contains <span id="iref-notification-17" class="iref"></span><a href="#notification" class="internal xref">notifications</a>. Upon a resource event, a <span id="iref-notification-18" class="iref"></span><a href="#notification" class="internal xref">notification</a> is transmitted as a part of this multipart message.<a href="#section-1.2.4.3-1" class="pilcrow">¶</a></p>
<p id="section-1.2.4.3-2">By default, <span id="iref-notification-19" class="iref"></span><a href="#notification" class="internal xref">notifications</a> are sent in the <code>message/rfc822</code> format (which is structurally identical to a HTTP/1.1 message) with some additional semantics as specified in <a href="#rfc822-semantics" class="auto internal xref">Section 10</a>. Alternate formats and semantics might be negotiated using the <span id="iref-accept-events-20" class="iref"></span><a href="#accept-events-header" class="internal xref"><code>Accept-Events</code></a> header.<a href="#section-1.2.4.3-2" class="pilcrow">¶</a></p>
<p id="section-1.2.4.3-3">The response stream is closed when the time limit for <span id="iref-notification-21" class="iref"></span><a href="#notification" class="internal xref">notification</a> has elapsed or immediately after the resource is deleted as in the example below:<a href="#section-1.2.4.3-3" class="pilcrow">¶</a></p>
<span id="name-response-with-prep-notificati"></span><div id="intro-response-notifications">
<figure id="figure-6">
              <div class="alignLeft art-text artwork" id="section-1.2.4.3-4.1">
<pre>
--MAIN-SEPARATOR
Content-Type: multipart/digest; boundary="MESSAGE-SEPARATOR"

--MESSAGE-SEPARATOR

Method: PUT
Date: Sat, 1 April 2023 10:11:12 GMT
Event-ID: 456
E-tag: 6789wxyz


--MESSAGE-SEPARATOR

Method: DELETE
Date: Sat, 1 April 2023 10:11:12 GMT
Event-ID: 789


--MESSAGE-SEPARATOR--
--MAIN-SEPARATOR--
</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-response-with-prep-notificati" class="selfRef">Response with PREP Notifications - Notifications</a>
              </figcaption></figure>
</div>
</section>
</div>
<div id="simple-prep-response-complete">
<section id="section-1.2.4.4">
            <h5>
<span></span>
            </h5>
<p id="section-1.2.4.4-1">Together, the complete response with PREP <span id="iref-notification-22" class="iref"></span><a href="#notification" class="internal xref">notifications</a> is:<a href="#section-1.2.4.4-1" class="pilcrow">¶</a></p>
<span id="name-complete-response"></span><div id="intro-response">
<figure id="figure-7">
              <div class="alignLeft art-text artwork" id="section-1.2.4.4-2.1">
<pre>
HTTP/1.1 200 OK
Last-Modified: Sat, 1 April 2023 10:11:12 GMT
Transfer-Encoding: chunked
ETag: 1234abcd
Events: protocol="prep", status=200
Vary: Accept-Events
Accept-Events: "prep"; accept="message/rfc822"
Content-Type: multipart/mixed; boundary="MAIN-SEPARATOR"

--MAIN SEPARATOR
Content-Type: text/plain

Hello World!

--MAIN-SEPARATOR
Content-Type: multipart/digest; boundary="MESSAGE-SEPARATOR"

--MESSAGE-SEPARATOR

Method: PUT
Date: Sat, 1 April 2023 10:11:12 GMT
Event-ID: 456
E-tag: 6789wxyz


--MESSAGE-SEPARATOR

Method: DELETE
Date: Sat, 1 April 2023 10:11:12 GMT
Event-ID: 789


--MESSAGE-SEPARATOR--
--MAIN-SEPARATOR--
</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-complete-response" class="selfRef">Complete Response</a>
              </figcaption></figure>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="scope">
<section id="section-1.3">
        <h3 id="name-scope">
<a href="#section-1.3" class="section-number selfRef">1.3. </a><a href="#name-scope" class="section-name selfRef">Scope</a>
        </h3>
<p id="section-1.3-1">The Per Resource Events Protocol specifies:<a href="#section-1.3-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1.3-2.1">
            <p id="section-1.3-2.1.1">a mechanism for the discovery of <span id="iref-notification-23" class="iref"></span><a href="#notification" class="internal xref">notification</a> capabilities per resource,<a href="#section-1.3-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-1.3-2.2">
            <p id="section-1.3-2.2.1">a mechanism to request <span id="iref-notification-24" class="iref"></span><a href="#notification" class="internal xref">notifications</a> from a resource,<a href="#section-1.3-2.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-1.3-2.3">
            <p id="section-1.3-2.3.1">representation and semantics for the response that transmits <span id="iref-notification-25" class="iref"></span><a href="#notification" class="internal xref">notifications</a>,<a href="#section-1.3-2.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-1.3-2.4">
            <p id="section-1.3-2.4.1">a default representation for <span id="iref-notification-26" class="iref"></span><a href="#notification" class="internal xref">notifications</a> and associated semantics when used to transmit <span id="iref-notification-27" class="iref"></span><a href="#notification" class="internal xref">notifications</a>.<a href="#section-1.3-2.4.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-1.3-3">The Per Resource Events Protocol does not specify:<a href="#section-1.3-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1.3-4.1">
            <p id="section-1.3-4.1.1">a specific authentication and authorization mechanism to be used with the Per Resource Events Protocol. Implementations are encouraged to use existing approaches for authentication and authorization.<a href="#section-1.3-4.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-1.3-4.2">
            <p id="section-1.3-4.2.1">representation and semantics for <span id="iref-notification-28" class="iref"></span><a href="#notification" class="internal xref">notifications</a> (other than the default case).<a href="#section-1.3-4.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1.3-4.2.2.1">
                <p id="section-1.3-4.2.2.1.1">Implementations are free to use any media-type for <span id="iref-notification-29" class="iref"></span><a href="#notification" class="internal xref">notifications</a>, which can be negotiated just like representations.<a href="#section-1.3-4.2.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-1.3-4.2.2.2">
                <p id="section-1.3-4.2.2.2.1">Implementations are also free to define additional semantics for a given media-type, when used to transmit <span id="iref-notification-30" class="iref"></span><a href="#notification" class="internal xref">notifications</a> using the Per Resource Events Protocol.<a href="#section-1.3-4.2.2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
        </ul>
</section>
</div>
<div id="intended-audience">
<section id="section-1.4">
        <h3 id="name-audience">
<a href="#section-1.4" class="section-number selfRef">1.4. </a><a href="#name-audience" class="section-name selfRef">Audience</a>
        </h3>
<p id="section-1.4-1">This specification is for:<a href="#section-1.4-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1.4-2.1">
            <p id="section-1.4-2.1.1"><a href="http://data.europa.eu/esco/occupation/a7c1d23d-aeca-4bee-9a08-5993ed98b135">Server developers</a> who wish to enable clients to listen for updates to particular resources.<a href="#section-1.4-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-1.4-2.2">
            <p id="section-1.4-2.2.1"><a href="http://data.europa.eu/esco/occupation/c40a2919-48a9-40ea-b506-1f34f693496d">Application developers</a> who wish to implement a client to listen for updates to particular resources.<a href="#section-1.4-2.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="design">
<section id="section-2">
      <h2 id="name-design">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-design" class="section-name selfRef">Design</a>
      </h2>
<p id="section-2-1">The Per Resource Events Protocol is predicated on a resource being the most intuitive source for <span id="iref-notification-31" class="iref"></span><a href="#notification" class="internal xref">notifications</a> about its own updates.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">This is unlike other <span id="iref-notification-32" class="iref"></span><a href="#notification" class="internal xref">notification</a> protocols that require additional resources to be specifically dedicated as endpoints for delivering <span id="iref-notification-33" class="iref"></span><a href="#notification" class="internal xref">notifications</a>. Servers that provide updates are forced to maintain these additional endpoints and clients that consume these updates have to co-ordinate data between the endpoint and a resource of interest.<a href="#section-2-2" class="pilcrow">¶</a></p>
<p id="section-2-3">By giving every resource the ability to send <span id="iref-notification-34" class="iref"></span><a href="#notification" class="internal xref">notifications</a> when it updates, the Per Resource Events Protocol aims to reduce the complexity of  both servers and clients implementing <span id="iref-notification-35" class="iref"></span><a href="#notification" class="internal xref">notifications</a>; thus, making it easier for developers to build and maintain real-time applications.<a href="#section-2-3" class="pilcrow">¶</a></p>
<div id="principles">
<section id="section-2.1">
        <h3 id="name-principles">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-principles" class="section-name selfRef">Principles</a>
        </h3>
<p id="section-2.1-1">The Per Resource Events Protocol treats <span id="iref-notification-36" class="iref"></span><a href="#notification" class="internal xref">notifications</a> as a temporally extended representation of any resource. That is, a representation can describe not (just) the state of the resource but events on the resource. With HTTP allowing representations to provide a potentially unbounded stream of data, the Per Resource Events Protocol is able to communicate events on the resource as <span id="iref-notification-37" class="iref"></span><a href="#notification" class="internal xref">notifications</a>.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="goals">
<section id="section-2.2">
        <h3 id="name-goals">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-goals" class="section-name selfRef">Goals</a>
        </h3>
<p id="section-2.2-1">The goals of the Per Resource Events Protocol are:<a href="#section-2.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.2-2.1">
            <p id="section-2.2-2.1.1">to provide <span id="iref-notification-38" class="iref"></span><a href="#notification" class="internal xref">notifications</a> only using the HTTP protocol <a href="https://www.rfc-editor.org/info/std97">STD97</a> <span>[<a href="#HTTP" class="cite xref">HTTP</a>]</span> so that the clients are able to request for update <span id="iref-notification-39" class="iref"></span><a href="#notification" class="internal xref">notifications</a> using the Fetch API <span>[<a href="#FETCH" class="cite xref">FETCH</a>]</span>.<a href="#section-2.2-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-2.2-2.2">
            <p id="section-2.2-2.2.1">to provide updates directly from the resource of interest, obliviating the need to connect to another endpoint for <span id="iref-notification-40" class="iref"></span><a href="#notification" class="internal xref">notifications</a>, minimizing round-trips between clients and servers and the need to co-ordinate responses between a resource and the endpoint.<a href="#section-2.2-2.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-2.2-2.3">
            <p id="section-2.2-2.3.1">to allow arbitrary representations for <span id="iref-notification-41" class="iref"></span><a href="#notification" class="internal xref">notifications</a>. Implementers shall be able to provide <span id="iref-notification-42" class="iref"></span><a href="#notification" class="internal xref">notifications</a> that are potentially more expressive when compared to existing HTTP based messaging protocols such as Server Sent Events <span>[<a href="#SSE" class="cite xref">SSE</a>]</span>.<a href="#section-2.2-2.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="constraints">
<section id="section-2.3">
        <h3 id="name-constraints">
<a href="#section-2.3" class="section-number selfRef">2.3. </a><a href="#name-constraints" class="section-name selfRef">Constraints</a>
        </h3>
<p id="section-2.3-1">To the extent feasible, the Per Resource Events Protocol:<a href="#section-2.3-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.3-2.1">
            <p id="section-2.3-2.1.1">adheres to established practices and conventions. In particular, every attempt has been made to reuse existing protocols and specifications. Implementers shall be able to repurpose existing tools and libraries for implementing this specification.<a href="#section-2.3-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-2.3-2.2">
            <p id="section-2.3-2.2.1">conforms to the REST Architectural Style <span>[<a href="#REST" class="cite xref">REST</a>]</span> and best practices for Building Protocols with HTTP <span>[<a href="#RFC9205" class="cite xref">RFC9205</a>]</span>. This specification can, thus, be used to extend the capabilities of any existing HTTP resource to provide <span id="iref-notification-43" class="iref"></span><a href="#notification" class="internal xref">notifications</a>. Implementers shall be able to scale <span id="iref-notification-44" class="iref"></span><a href="#notification" class="internal xref">notifications</a> along with their data/applications.<a href="#section-2.3-2.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="known-limitations">
<section id="section-2.4">
        <h3 id="name-known-limitations">
<a href="#section-2.4" class="section-number selfRef">2.4. </a><a href="#name-known-limitations" class="section-name selfRef">Known Limitations</a>
        </h3>
<p id="section-2.4-1">The Per Resource Events Protocol only allows <span id="iref-notification-45" class="iref"></span><a href="#notification" class="internal xref">notifications</a> to be sent for events on a given resource. It is not possible for resources to send <span id="iref-notification-46" class="iref"></span><a href="#notification" class="internal xref">notifications</a> for arbitrary events such as state changes on multiple resources or combinations thereof. Implementations using Per Resource Events Protocol have to create separate resources to realize such <span id="iref-notification-47" class="iref"></span><a href="#notification" class="internal xref">notification</a> endpoints. But this is no different from APIs built on top of existing messaging protocols (See, for example, <span>[<a href="#WS" class="cite xref">WS</a>]</span> and <span>[<a href="#WEBSUB" class="cite xref">WEBSUB</a>]</span>).<a href="#section-2.4-1" class="pilcrow">¶</a></p>
<p id="section-2.4-2">Due to the limits on connections per domain, the Per Resource Events Protocol is not suitable for use with HTTP/1.1, especially when providing <span id="iref-notification-48" class="iref"></span><a href="#notification" class="internal xref">notifications</a> for multiple resource from the same domain that might be accessed simultaneously. This limitation is identical to that of other HTTP based streaming based protocols such as Server-Sent Events <span>[<a href="#SSE" class="cite xref">SSE</a>]</span>. Implementations are strongly encouraged to adopt HTTP/2 (or later) and implement mitigation strategies, such as to maximize the number of concurrent connections and to provide alternate locations for resources on different domains.<a href="#section-2.4-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="conformance">
<section id="section-3">
      <h2 id="name-conformance">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-conformance" class="section-name selfRef">Conformance</a>
      </h2>
<div id="document-conventions">
<section id="section-3.1">
        <h3 id="name-document-conventions">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-document-conventions" class="section-name selfRef">Document Conventions</a>
        </h3>
<p id="section-3.1-1">All assertions, diagrams, examples and notes in this specification are non-normative.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="requirements-notation">
<section id="section-3.2">
        <h3 id="name-requirements-notation">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-requirements-notation" class="section-name selfRef">Requirements Notation</a>
        </h3>
<p id="section-3.2-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
"<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
described in BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span> when, and only when, they
appear in all capitals, as shown here.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="classes-of-products">
<section id="section-3.3">
        <h3 id="name-classes-of-products">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-classes-of-products" class="section-name selfRef">Classes of Products</a>
        </h3>
<p id="section-3.3-1">The Per Resource Events Protocol identifies the following Classes of Products for conforming implementations. These products are referenced throughout this specification.<a href="#section-3.3-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-3.3-2">
          <dt id="section-3.3-2.1">
<div id="resource-server">Resource Server</div>
          </dt>
<dd style="margin-left: 1.5em" id="section-3.3-2.2">
            <p id="section-3.3-2.2.1">that builds on HTTP origin server (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-3.6" class="relref">Section 3.6</a></span>) by defining header fields (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-6.3" class="relref">Section 6.3</a></span>) and media types (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-8.3.1" class="relref">Section 8.3.1</a></span>).<a href="#section-3.3-2.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.3-2.3">
<div id="application-client">Application Client</div>
          </dt>
<dd style="margin-left: 1.5em" id="section-3.3-2.4">
            <p id="section-3.3-2.4.1">that builds on HTTP user agent (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-3.5" class="relref">Section 3.5</a></span>) by defining behaviour in terms of fetching <span>[<a href="#FETCH" class="cite xref">FETCH</a>]</span> across the platform.<a href="#section-3.3-2.4.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="interoperability">
<section id="section-3.4">
        <h3 id="name-interoperability">
<a href="#section-3.4" class="section-number selfRef">3.4. </a><a href="#name-interoperability" class="section-name selfRef">Interoperability</a>
        </h3>
<p id="section-3.4-1">Interoperability occurs between <span><a href="#interoperability-1" class="internal xref">Application Client—Resource Server</a> (<a href="#interoperability-1" class="auto internal xref">Section 3.4</a>)</span> as defined by the Per Resource Events Protocol.<a href="#section-3.4-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-3.4-2">
          <dt id="section-3.4-2.1">
<div id="interoperability-1">Application Client—Resource Server Interoperability</div>
          </dt>
<dd style="margin-left: 1.5em" id="section-3.4-2.2">
            <p id="section-3.4-2.2.1">Interoperability of implementations for <span id="iref-application-client-49" class="iref"></span><a href="#application-client" class="internal xref">application clients</a> and <span id="iref-resource-server-50" class="iref"></span><a href="#resource-server" class="internal xref">resource servers</a> is tested by evaluating an implementation's ability to request and respond to HTTP messages that conform to the Per Resource Events Protocol.<a href="#section-3.4-2.2.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="terminology">
<section id="section-3.5">
        <h3 id="name-terminology">
<a href="#section-3.5" class="section-number selfRef">3.5. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
        </h3>
<p id="section-3.5-1">The following terms are defined:<a href="#section-3.5-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-3.5-2">
          <dt id="section-3.5-2.1">
<div id="notification">
<span id="iref-notification-51" class="iref"></span><a href="#notification" class="internal xref">Notification</a>
</div>
          </dt>
<dd style="margin-left: 1.5em" id="section-3.5-2.2">
            <p id="section-3.5-2.2.1">A message sent to <span id="iref-application-client-52" class="iref"></span><a href="#application-client" class="internal xref">application clients</a> (that had previously requested it) when an HTTP request made on a resource fulfils some specified criteria.<a href="#section-3.5-2.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.5-2.3">
<div id="base-response">Base Response</div>
          </dt>
<dd style="margin-left: 1.5em" id="section-3.5-2.4">
            <p id="section-3.5-2.4.1">The response that would have been returned, were <span id="iref-notification-53" class="iref"></span><a href="#notification" class="internal xref">notifications</a> not requested for, in an otherwise identical HTTP request.<a href="#section-3.5-2.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.5-2.5">
<div id="event-field">Event Field</div>
          </dt>
<dd style="margin-left: 1.5em" id="section-3.5-2.6">
            <p id="section-3.5-2.6.1">A parameter for a protocol item in the <span id="iref-accept-events-54" class="iref"></span><a href="#accept-events-header" class="internal xref"><code>Accept-Events</code></a> header field or a member of the <span id="iref-events-55" class="iref"></span><a href="#events-header" class="internal xref"><code>Events</code></a> header field.<a href="#section-3.5-2.6.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="header-fields">
<section id="section-4">
      <h2 id="name-header-fields">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-header-fields" class="section-name selfRef">Header Fields</a>
      </h2>
<p id="section-4-1">The Per Resource Events Protocol introduces new header fields. These header fields are not specific to the Per Resource Events Protocol. They can be used by other protocols that augment resources with the ability to send <span id="iref-notification-56" class="iref"></span><a href="#notification" class="internal xref">notifications</a>.<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">Protocols <span class="bcp14">MUST</span> ensure that the semantics be so defined that these header fields are safely ignored by recipients that do not recognize them (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-5.1" class="relref">Section 5.1</a></span>).<a href="#section-4-2" class="pilcrow">¶</a></p>
<aside id="section-4-3">
        <p id="section-4-3.1">* <em>This specification uses a modified version of Structured Fields (<span>[<a href="#HTTP-SF" class="cite xref">HTTP-SF</a>]</span>) that allows parameters to also have as value, a bare array of Items.</em><a href="#section-4-3.1" class="pilcrow">¶</a></p>
</aside>
<div id="accept-events-header">
<section id="section-4.1">
        <h3 id="name-accept-events">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-accept-events" class="section-name selfRef">Accept-Events</a>
        </h3>
<span id="iref-accept-events-57" class="iref"></span>
        <p id="section-4.1-1">The <code>Accept-Events</code> header field can be used by <span id="iref-application-client-58" class="iref"></span><a href="#application-client" class="internal xref">application clients</a> to specify their preferred protocol for receiving <span id="iref-notification-59" class="iref"></span><a href="#notification" class="internal xref">notifications</a>. For example, the <code>Accept-Events</code> header field can be used to indicate that the request is specifically limited to a small set of desired protocols, as in the case for <span id="iref-notification-60" class="iref"></span><a href="#notification" class="internal xref">notifications</a> with the Per Resource Events Protocol.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">When sent by a <span id="iref-resource-server-61" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> in a response, the <code>Accept-Events</code> header field provides information about which <span id="iref-notification-62" class="iref"></span><a href="#notification" class="internal xref">notification</a> protocols are preferred in a subsequent request to the same resource.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">An <span id="iref-application-client-63" class="iref"></span><a href="#application-client" class="internal xref">application client</a> <span class="bcp14">MAY</span> generate a request for <span id="iref-notification-64" class="iref"></span><a href="#notification" class="internal xref">notifications</a> regardless of having received an <code>Accept-Events</code> header field. The information only provides advice for the sake of improving performance and reducing unnecessary network transfers.<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<p id="section-4.1-4">Conversely, an <span id="iref-application-client-65" class="iref"></span><a href="#application-client" class="internal xref">application client</a> <span class="bcp14">MUST NOT</span> assume that receiving an <code>Accept-Events</code> header field means that future requests will return <span id="iref-notification-66" class="iref"></span><a href="#notification" class="internal xref">notifications</a>. The content might change, the server might only support <span id="iref-notification-67" class="iref"></span><a href="#notification" class="internal xref">notifications</a> requests at certain times or under certain conditions, or a different intermediary might process the next request.<a href="#section-4.1-4" class="pilcrow">¶</a></p>
<div id="accept-events-header-validity">
<section id="section-4.1.1">
          <h4 id="name-validity">
<a href="#section-4.1.1" class="section-number selfRef">4.1.1. </a><a href="#name-validity" class="section-name selfRef">Validity</a>
          </h4>
<p id="section-4.1.1-1">A recipient <span class="bcp14">MUST</span> ignore the <code>Accept-Events</code> header field received with a request method that is unrecognized or for which <span id="iref-notification-68" class="iref"></span><a href="#notification" class="internal xref">notifications</a> response is not defined for a particular <span id="iref-notification-69" class="iref"></span><a href="#notification" class="internal xref">notifications</a> protocol.<a href="#section-4.1.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1.1-2">A recipient <span class="bcp14">MUST</span> ignore the <code>Accept-Events</code> header field received in response to a request method that is unrecognized or for which <span id="iref-notification-70" class="iref"></span><a href="#notification" class="internal xref">notifications</a> discovery and/or response is not defined for a particular <span id="iref-notification-71" class="iref"></span><a href="#notification" class="internal xref">notifications</a> protocol.<a href="#section-4.1.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1.1-3">A recipient <span class="bcp14">MUST</span> ignore the <code>Accept-Events</code> header field that it does not understand.<a href="#section-4.1.1-3" class="pilcrow">¶</a></p>
<p id="section-4.1.1-4">A recipient <span class="bcp14">MUST</span> ignore the protocols specified in the <code>Accept-Events</code> header field that they are not aware of.<a href="#section-4.1.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="accept-events-header-syntax">
<section id="section-4.1.2">
          <h4 id="name-syntax">
<a href="#section-4.1.2" class="section-number selfRef">4.1.2. </a><a href="#name-syntax" class="section-name selfRef">Syntax</a>
          </h4>
<p id="section-4.1.2-1"><code>Accept-Events</code> is a List structured (<span>[<a href="#HTTP-SF" class="cite xref">HTTP-SF</a>], <a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-sfbis-06#section-3.1" class="relref">Section 3.1</a></span>) header field*. Its members <span class="bcp14">MUST</span> be of type string that identifies a <span id="iref-notification-72" class="iref"></span><a href="#notification" class="internal xref">notification</a> protocol. A protocol identifier <span class="bcp14">MAY</span> be followed with zero or more parameters defined by the given protocol, which <span class="bcp14">MAY</span> be followed by a <code>q</code> parameter.<a href="#section-4.1.2-1" class="pilcrow">¶</a></p>
<p id="section-4.1.2-2">The <code>q</code> parameter assigns a relative "weight" to the sender's preference for a <span id="iref-notification-73" class="iref"></span><a href="#notification" class="internal xref">notification</a> protocol with semantics as defined in <span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-12.4.2" class="relref">Section 12.4.2</a></span>. Senders using weights <span class="bcp14">SHOULD</span> send <code>q</code> last (after all protocol parameters). Recipients <span class="bcp14">SHOULD</span> process any parameter named <code>q</code> as weight, regardless of parameter ordering.<a href="#section-4.1.2-2" class="pilcrow">¶</a></p>
<p id="section-4.1.2-3">Note: Use of the <code>q</code> parameter name to negotiate <span id="iref-notification-74" class="iref"></span><a href="#notification" class="internal xref">notification</a> protocols would interfere with any parameter having the same name. Hence, protocol parameters named <code>q</code> are disallowed.<a href="#section-4.1.2-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="events-header">
<section id="section-4.2">
        <h3 id="name-events">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-events" class="section-name selfRef">Events</a>
        </h3>
<span id="iref-events-75" class="iref"></span>
        <p id="section-4.2-1">The <code>Events</code> header field is sent by a <span id="iref-resource-server-76" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> to provide <span id="iref-event-field-77" class="iref"></span><a href="#event-field" class="internal xref">event fields</a> in response to a request for <span id="iref-notification-78" class="iref"></span><a href="#notification" class="internal xref">notifications</a>.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">Where the <span id="iref-accept-events-79" class="iref"></span><a href="#accept-events-header" class="internal xref"><code>Accept-Events</code></a> header field sent in the request is ignored, a <span id="iref-resource-server-80" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> <span class="bcp14">MUST NOT</span> send the <code>Events</code> header field in a response.<a href="#section-4.2-2" class="pilcrow">¶</a></p>
<p id="section-4.2-3">Conversely, a <span id="iref-resource-server-81" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> <span class="bcp14">MUST</span> send the <code>Events</code> header field in a response, if the <span id="iref-accept-events-82" class="iref"></span><a href="#accept-events-header" class="internal xref"><code>Accept-Events</code></a> header field sent in the request is not ignored.<a href="#section-4.2-3" class="pilcrow">¶</a></p>
<div id="events-header-validity">
<section id="section-4.2.1">
          <h4 id="name-validity-2">
<a href="#section-4.2.1" class="section-number selfRef">4.2.1. </a><a href="#name-validity-2" class="section-name selfRef">Validity</a>
          </h4>
<p id="section-4.2.1-1">If the <code>Events</code> header field is sent in response to a request that does not contain the <span id="iref-accept-events-83" class="iref"></span><a href="#accept-events-header" class="internal xref"><code>Accept-Events</code></a> header field, the recipient <span class="bcp14">MUST</span> treat the response as invalid.<a href="#section-4.2.1-1" class="pilcrow">¶</a></p>
<p id="section-4.2.1-2">If the response contains a <code>Events</code> header field that the recipient does not understand or the <code>Events</code> header field specifies a <code>protocol</code> that the recipient does not understand, the recipient <span class="bcp14">MUST NOT</span> process the response. A proxy that receives such a message <span class="bcp14">SHOULD</span> forward it downstream.<a href="#section-4.2.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="events-header-syntax">
<section id="section-4.2.2">
          <h4 id="name-syntax-2">
<a href="#section-4.2.2" class="section-number selfRef">4.2.2. </a><a href="#name-syntax-2" class="section-name selfRef">Syntax</a>
          </h4>
<p id="section-4.2.2-1"><code>Events</code> is a Dictionary structured (<span>[<a href="#HTTP-SF" class="cite xref">HTTP-SF</a>], <a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-sfbis-06#section-3.1" class="relref">Section 3.1</a></span>) header field*. It <span class="bcp14">MUST</span> contain one member with the key <code>protocol</code> whose value identifies the <span id="iref-notification-84" class="iref"></span><a href="#notification" class="internal xref">notification</a> protocol used in the response. It <span class="bcp14">MAY</span> contain other members that are defined by the given <span id="iref-notification-85" class="iref"></span><a href="#notification" class="internal xref">notification</a> protocol.<a href="#section-4.2.2-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="protocol">
<section id="section-5">
      <h2 id="name-protocol">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-protocol" class="section-name selfRef">Protocol</a>
      </h2>
<div id="event-fields">
<section id="section-5.1">
        <h3 id="name-event-fields">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-event-fields" class="section-name selfRef">Event Fields</a>
        </h3>
<p id="section-5.1-1">The Per Resource Events Protocol reuses existing HTTP fields (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-5" class="relref">Section 5</a></span>) as <span id="iref-event-field-86" class="iref"></span><a href="#event-field" class="internal xref">event fields</a>. Any HTTP field <span class="bcp14">MAY</span> be used as an <span id="iref-event-field-87" class="iref"></span><a href="#event-field" class="internal xref">event field</a>. For the limited context of <span id="iref-notification-88" class="iref"></span><a href="#notification" class="internal xref">notifications</a> using the Per Resource Events Protocol, an <span id="iref-event-field-89" class="iref"></span><a href="#event-field" class="internal xref">event field</a> with the same name as an HTTP field <span class="bcp14">MUST</span> have identical semantics to that HTTP field, unless otherwise specified.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1-2">This specification restricts <span id="iref-accept-events-90" class="iref"></span><a href="#accept-events-header" class="internal xref"><code>Accept-Events</code></a> and <span id="iref-events-91" class="iref"></span><a href="#events-header" class="internal xref"><code>Events</code></a> as Structured header fields* <span>[<a href="#HTTP-SF" class="cite xref">HTTP-SF</a>]</span>. From this it follows:<a href="#section-5.1-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1-3.1">
            <p id="section-5.1-3.1.1">An <span id="iref-event-field-92" class="iref"></span><a href="#event-field" class="internal xref">event field</a> whose value is anything except a bare Item, that is, an Item without Parameters, <span class="bcp14">MUST</span> be specified inside an Inner List.<a href="#section-5.1-3.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-5.1-3.2">
            <p id="section-5.1-3.2.1">Unless otherwise specified, an <span id="iref-event-field-93" class="iref"></span><a href="#event-field" class="internal xref">event field</a> that is not already defined as a Structured Field, therefore, <span class="bcp14">MUST</span> be handled as a Retrofit Structured Field <span>[<a href="#HTTP-Retrofit" class="cite xref">HTTP-Retrofit</a>]</span> when such handling is defined.<a href="#section-5.1-3.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-5.1-3.3">
            <p id="section-5.1-3.3.1">An <span id="iref-event-field-94" class="iref"></span><a href="#event-field" class="internal xref">event field</a> that is not already defined as a Structured Field but cannot be handled as a Retrofit Structured Field either, <span class="bcp14">MUST</span> be explicitly specified by the implementation.<a href="#section-5.1-3.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="methods">
<section id="section-5.2">
        <h3 id="name-methods">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-methods" class="section-name selfRef">Methods</a>
        </h3>
<p id="section-5.2-1">For the Per Resource Events Protocol, <code>HEAD</code> (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-9.3.2" class="relref">Section 9.3.2</a></span>) and <code>GET</code> (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-9.3.1" class="relref">Section 9.3.1</a></span>) are the only methods in response to which <span id="iref-notification-95" class="iref"></span><a href="#notification" class="internal xref">notifications</a> are advertised.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<p id="section-5.2-2">A <span id="iref-resource-server-96" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> <span class="bcp14">MUST NOT</span> send the <span id="iref-accept-events-97" class="iref"></span><a href="#accept-events-header" class="internal xref"><code>Accept-Events</code></a> header field with <code>prep</code> as a protocol in response to a request with any method other than <code>HEAD</code> or <code>GET</code>.<a href="#section-5.2-2" class="pilcrow">¶</a></p>
<p id="section-5.2-3">For the Per Resource Events Protocol, <code>GET</code> (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-9.3.1" class="relref">Section 9.3.1</a></span>) is the only method by which <span id="iref-notification-98" class="iref"></span><a href="#notification" class="internal xref">notifications</a> are requested and for which <span id="iref-notification-99" class="iref"></span><a href="#notification" class="internal xref">notifications</a> response is defined.<a href="#section-5.2-3" class="pilcrow">¶</a></p>
<p id="section-5.2-4">An <span id="iref-application-client-100" class="iref"></span><a href="#application-client" class="internal xref">application client</a> <span class="bcp14">MUST NOT</span> send the <span id="iref-accept-events-101" class="iref"></span><a href="#accept-events-header" class="internal xref"><code>Accept-Events</code></a> header field with <code>prep</code> as a protocol in a request with any method other than <code>GET</code>.<a href="#section-5.2-4" class="pilcrow">¶</a></p>
<p id="section-5.2-5">A <span id="iref-resource-server-102" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> <span class="bcp14">MUST NOT</span> send the <span id="iref-events-103" class="iref"></span><a href="#events-header" class="internal xref"><code>Events</code></a> header field with the parameter <code>protocol</code> with a value of <code>prep</code> in response to a request with any method other than <code>GET</code>.<a href="#section-5.2-5" class="pilcrow">¶</a></p>
<p id="section-5.2-6">A <span id="iref-resource-server-104" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> <span class="bcp14">MUST NOT</span> send the <span id="iref-events-105" class="iref"></span><a href="#events-header" class="internal xref"><code>Events</code></a> header field except in response to a <code>GET</code> request.<a href="#section-5.2-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="status-codes">
<section id="section-5.3">
        <h3 id="name-status-codes">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-status-codes" class="section-name selfRef">Status Codes</a>
        </h3>
<p id="section-5.3-1">The Per Resource Events Protocol reuses existing HTTP status codes (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-15" class="relref">Section 15</a></span>) to describe the result of the request for <span id="iref-notification-106" class="iref"></span><a href="#notification" class="internal xref">notifications</a> and the semantics of <span id="iref-notification-107" class="iref"></span><a href="#notification" class="internal xref">notifications</a> in the response.<a href="#section-5.3-1" class="pilcrow">¶</a></p>
<p id="section-5.3-2">In response to a request where <span id="iref-accept-events-108" class="iref"></span><a href="#accept-events-header" class="internal xref"><code>Accept-Events</code></a> header field indicates <code>prep</code> as the preferred protocol, a <span id="iref-resource-server-109" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> that supports <span id="iref-notification-110" class="iref"></span><a href="#notification" class="internal xref">notifications</a> using the Per Resource Events Protocol <span class="bcp14">MUST</span> communicate the status code for the <span id="iref-notification-111" class="iref"></span><a href="#notification" class="internal xref">notifications</a> response using the <code>status</code> parameter in the <span id="iref-events-112" class="iref"></span><a href="#events-header" class="internal xref"><code>Events</code></a> header field.<a href="#section-5.3-2" class="pilcrow">¶</a></p>
<p id="section-5.3-3">For the limited context of <span id="iref-notification-113" class="iref"></span><a href="#notification" class="internal xref">notifications</a> using the Per Resource Events Protocol, the status code communicated using the <code>status</code> parameter in the <span id="iref-events-114" class="iref"></span><a href="#events-header" class="internal xref"><code>Events</code></a> header field <span class="bcp14">MUST</span> have identical semantics to the corresponding HTTP status code, unless otherwise specified.<a href="#section-5.3-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="notifications-discovery">
<section id="section-6">
      <h2 id="name-discovery">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-discovery" class="section-name selfRef">Discovery</a>
      </h2>
<p id="section-6-1"><span id="iref-application-client-115" class="iref"></span><a href="#application-client" class="internal xref">Application clients</a> can engage in reactive content negotiation to discover if a <span id="iref-resource-server-116" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> supports <span id="iref-notification-117" class="iref"></span><a href="#notification" class="internal xref">notifications</a> using the Per Resource Events Protocol on a given resource.<a href="#section-6-1" class="pilcrow">¶</a></p>
<div id="discovery-request">
<section id="section-6.1">
        <h3 id="name-request">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-request" class="section-name selfRef">Request</a>
        </h3>
<p id="section-6.1-1">An <span id="iref-application-client-118" class="iref"></span><a href="#application-client" class="internal xref">application client</a> can discover the ability of a <span id="iref-resource-server-119" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> to deliver PREP <span id="iref-notification-120" class="iref"></span><a href="#notification" class="internal xref">notifications</a> for a target resource by sending a <code>HEAD</code> (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-9.3.2" class="relref">Section 9.3.2</a></span>) request.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="discovery-response-when-notifications-not-available">
<section id="section-6.2">
        <h3 id="name-not-available">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-not-available" class="section-name selfRef">Not Available</a>
        </h3>
<p id="section-6.2-1">In the response to a <code>HEAD</code> request, a <span id="iref-resource-server-121" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> that does not provide <span id="iref-notification-122" class="iref"></span><a href="#notification" class="internal xref">notifications</a> for the target resource using the Per Resource Events Protocol <span class="bcp14">MUST NOT</span> list <code>prep</code> as as one of the available protocols in the <span id="iref-accept-events-123" class="iref"></span><a href="#accept-events-header" class="internal xref"><code>Accept-Events</code></a> header field.<a href="#section-6.2-1" class="pilcrow">¶</a></p>
<span id="name-discovery-request"></span><div id="discovery-request-example">
<figure id="figure-8">
          <div class="lang-http-message sourcecode" id="section-6.2-2.1">
<pre>
HEAD /foo HTTP/1.1
Host: example.org
</pre>
</div>
<figcaption><a href="#figure-8" class="selfRef">Figure 8</a>:
<a href="#name-discovery-request" class="selfRef">Discovery Request</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="discovery-response-when-notifications-available">
<section id="section-6.3">
        <h3 id="name-available">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-available" class="section-name selfRef">Available</a>
        </h3>
<p id="section-6.3-1">In response to a <code>HEAD</code> request, a <span id="iref-resource-server-124" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> that serves <span id="iref-notification-125" class="iref"></span><a href="#notification" class="internal xref">notifications</a> for the target resource using the Per Resource Events Protocol <span class="bcp14">SHOULD</span> include the <span id="iref-accept-events-126" class="iref"></span><a href="#accept-events-header" class="internal xref"><code>Accept-Events</code></a> header field, which <span class="bcp14">MUST</span> list <code>prep</code> as one of the available protocols.<a href="#section-6.3-1" class="pilcrow">¶</a></p>
<p id="section-6.3-2">Associated with <code>prep</code> list item, the <span id="iref-resource-server-127" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> <span class="bcp14">MUST</span> include an <code>accept</code> <span id="iref-event-field-128" class="iref"></span><a href="#event-field" class="internal xref">event field</a> with at least one acceptable media-type for <span id="iref-notification-129" class="iref"></span><a href="#notification" class="internal xref">notifications</a>.<a href="#section-6.3-2" class="pilcrow">¶</a></p>
<span id="name-discovery-response"></span><div id="discovery-response-example">
<figure id="figure-9">
          <div class="lang-http-message sourcecode" id="section-6.3-3.1">
<pre>
HTTP/1.1 200 OK
Accept: text/html
Accept-Events: "prep"; accept="message/rfc822"
</pre>
</div>
<figcaption><a href="#figure-9" class="selfRef">Figure 9</a>:
<a href="#name-discovery-response" class="selfRef">Discovery Response</a>
          </figcaption></figure>
</div>
<aside id="section-6.3-4">
          <p id="section-6.3-4.1"><strong>Implementation Guidance</strong><a href="#section-6.3-4.1" class="pilcrow">¶</a></p>
<p id="section-6.3-4.2">When <span id="iref-resource-server-130" class="iref"></span><a href="#resource-server" class="internal xref">resource servers</a> support HTTP/2 <span>[<a href="#RFC9113" class="cite xref">HTTP/2</a>]</span> for a resource, they are strongly encouraged to advertise it in the response.<a href="#section-6.3-4.2" class="pilcrow">¶</a></p>
<p id="section-6.3-4.3">When a resource is accessible from different locations, <span id="iref-resource-server-131" class="iref"></span><a href="#resource-server" class="internal xref">resource servers</a> are encouraged to advertise these locations in the response.<a href="#section-6.3-4.3" class="pilcrow">¶</a></p>
<p id="section-6.3-4.4">HTTP Alternative Services <span>[<a href="#RFC7838" class="cite xref">RFC7838</a>]</span>, for example, describes a mechanism for advertising these capabilities.<a href="#section-6.3-4.4" class="pilcrow">¶</a></p>
</aside>
</section>
</div>
</section>
</div>
<div id="request">
<section id="section-7">
      <h2 id="name-request-2">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-request-2" class="section-name selfRef">Request</a>
      </h2>
<p id="section-7-1">The Per Resource Events Protocol extends the content negotiation mechanism provided by HTTP allowing <span id="iref-application-client-132" class="iref"></span><a href="#application-client" class="internal xref">application clients</a> to negotiate <span id="iref-notification-133" class="iref"></span><a href="#notification" class="internal xref">notifications</a> independent of the <span id="iref-base-response-134" class="iref"></span><a href="#base-response" class="internal xref">base response</a>.<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">In order to receive <span id="iref-notification-135" class="iref"></span><a href="#notification" class="internal xref">notifications</a> using the Per Resource Events Protocol from a resource, an <span id="iref-application-client-136" class="iref"></span><a href="#application-client" class="internal xref">application client</a> sends a <code>GET</code> request to <span id="iref-resource-server-137" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a>, which:<a href="#section-7-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7-3.1">
          <p id="section-7-3.1.1"><span class="bcp14">MUST</span> include the <span id="iref-accept-events-138" class="iref"></span><a href="#accept-events-header" class="internal xref"><code>Accept-Events</code></a> header field, which:<a href="#section-7-3.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7-3.1.2.1">
              <p id="section-7-3.1.2.1.1"><span class="bcp14">MUST</span> list <code>prep</code> as a preferred <span id="iref-notification-139" class="iref"></span><a href="#notification" class="internal xref">notification</a> protocol.<a href="#section-7-3.1.2.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7-3.1.2.1.2.1">
                  <p id="section-7-3.1.2.1.2.1.1"><span class="bcp14">MAY</span> include zero or more <span id="iref-event-field-140" class="iref"></span><a href="#event-field" class="internal xref">event fields</a>. For example, <span id="iref-application-client-141" class="iref"></span><a href="#application-client" class="internal xref">application clients</a> <span class="bcp14">MAY</span> specify an <code>accept</code> <span id="iref-event-field-142" class="iref"></span><a href="#event-field" class="internal xref">event field</a> to indicate a preferred media-type for <span id="iref-notification-143" class="iref"></span><a href="#notification" class="internal xref">notifications</a>.<a href="#section-7-3.1.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
              </ul>
</li>
          </ul>
</li>
        <li class="normal" id="section-7-3.2">
          <p id="section-7-3.2.1"><span class="bcp14">MAY</span> include the <code>Last-Event-ID</code> header field (<span>[<a href="#SSE" class="cite xref">SSE</a>]</span>, <a href="SSE#the-last-event-id-header">Section 9.2.4</a>) requesting the <span id="iref-resource-server-144" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> to not send the <span id="iref-base-response-145" class="iref"></span><a href="#base-response" class="internal xref">base response</a> body and resume <span id="iref-notification-146" class="iref"></span><a href="#notification" class="internal xref">notifications</a> from the event occurring immediately after the one specified.<a href="#section-7-3.2.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<aside id="section-7-4">
        <p id="section-7-4.1"><strong>Implementation Guidance</strong><a href="#section-7-4.1" class="pilcrow">¶</a></p>
<p id="section-7-4.2">Set the <code>Last-Event-ID</code> to a wildcard <code>*</code> to explicitly request a <span id="iref-resource-server-147" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> to not send the <span id="iref-base-response-148" class="iref"></span><a href="#base-response" class="internal xref">base response</a> body in the response at all.<a href="#section-7-4.2" class="pilcrow">¶</a></p>
</aside>
<span id="name-request-for-notifications"></span><div id="notifications-request-example">
<figure id="figure-10">
        <div class="lang-http-message sourcecode" id="section-7-5.1">
<pre>
GET /foo HTTP/1.1
Host: example.org
Last-Event-ID: *
Accept-Encoding: gzip
Accept-Events: "prep"; accept="message/rfc822"
</pre>
</div>
<figcaption><a href="#figure-10" class="selfRef">Figure 10</a>:
<a href="#name-request-for-notifications" class="selfRef">Request for Notifications</a>
        </figcaption></figure>
</div>
<p id="section-7-6">A <span id="iref-resource-server-149" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> <span class="bcp14">MUST</span> ignore <span id="iref-event-field-150" class="iref"></span><a href="#event-field" class="internal xref">event fields</a> for <code>prep</code> <span id="iref-notification-151" class="iref"></span><a href="#notification" class="internal xref">notifications</a> in the <span id="iref-accept-events-152" class="iref"></span><a href="#accept-events-header" class="internal xref"><code>Accept-Events</code></a> header that it does not recognize or implement.<a href="#section-7-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="response-without-notifications">
<section id="section-8">
      <h2 id="name-response-without-notificati">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-response-without-notificati" class="section-name selfRef">Response without Notifications</a>
      </h2>
<div id="response-when-notifications-not-available">
<section id="section-8.1">
        <h3 id="name-not-available-2">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-not-available-2" class="section-name selfRef">Not Available</a>
        </h3>
<p id="section-8.1-1">A <span id="iref-resource-server-153" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> not implementing the Per Resource Events Protocol (or not supporting it for the target resource) can ignore a request for <span id="iref-notification-154" class="iref"></span><a href="#notification" class="internal xref">notifications</a> and respond as if it received a normal request on that resource without impacting interoperability.<a href="#section-8.1-1" class="pilcrow">¶</a></p>
<p id="section-8.1-2">A <span id="iref-resource-server-155" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> that does not provide <span id="iref-notification-156" class="iref"></span><a href="#notification" class="internal xref">notifications</a> using the Per Resource Events Protocol <span class="bcp14">MUST NOT</span>:<a href="#section-8.1-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.1-3.1">
            <p id="section-8.1-3.1.1">list <code>prep</code> as as one of the available protocols in the <span id="iref-accept-events-157" class="iref"></span><a href="#accept-events-header" class="internal xref"><code>Accept-Events</code></a> header field, if sent in the response.<a href="#section-8.1-3.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.1-3.2">
            <p id="section-8.1-3.2.1">send the <span id="iref-events-158" class="iref"></span><a href="#events-header" class="internal xref"><code>Events</code></a> header field in the response with the <code>protocol</code> <span id="iref-event-field-159" class="iref"></span><a href="#event-field" class="internal xref">event field</a> set to <code>prep</code>.<a href="#section-8.1-3.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<aside id="section-8.1-4">
          <p id="section-8.1-4.1"><strong>Implementation Guidance</strong><a href="#section-8.1-4.1" class="pilcrow">¶</a></p>
<p id="section-8.1-4.2">Implementations are advised against sending <span id="iref-notification-160" class="iref"></span><a href="#notification" class="internal xref">notifications</a> for long-lived resources. A resource might be considered long-lived, if the <span id="iref-resource-server-161" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> determines that the resource is unlikely to change in the duration of the <span id="iref-notification-162" class="iref"></span><a href="#notification" class="internal xref">notification</a> response. In such instances, <span id="iref-resource-server-163" class="iref"></span><a href="#resource-server" class="internal xref">resource servers</a> are strongly advised to respond with the <code>Cache-Control</code> header and set the <code>max-age</code> parameter in it.<a href="#section-8.1-4.2" class="pilcrow">¶</a></p>
</aside>
</section>
</div>
<div id="error-response">
<section id="section-8.2">
        <h3 id="name-error-response">
<a href="#section-8.2" class="section-number selfRef">8.2. </a><a href="#name-error-response" class="section-name selfRef">Error Response</a>
        </h3>
<p id="section-8.2-1">A <span id="iref-resource-server-164" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> <span class="bcp14">MUST NOT</span> include PREP <span id="iref-notification-165" class="iref"></span><a href="#notification" class="internal xref">notifications</a> in a response, unless request results in one of the following status codes:<a href="#section-8.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.2-2.1">
            <p id="section-8.2-2.1.1"><code>200 (OK)</code> (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-15.3.1" class="relref">Section 15.3.1</a></span>),<a href="#section-8.2-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.2-2.2">
            <p id="section-8.2-2.2.1"><code>204 (No Content)</code> (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-15.3.5" class="relref">Section 15.3.5</a></span>),<a href="#section-8.2-2.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.2-2.3">
            <p id="section-8.2-2.3.1"><code>206 (Partial Content)</code> (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-15.3.7" class="relref">Section 15.3.7</a></span>),<a href="#section-8.2-2.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.2-2.4">
            <p id="section-8.2-2.4.1"><code>226 (IM Used)</code> (<span>[<a href="#Delta" class="cite xref">Delta</a>], <a href="https://rfc-editor.org/rfc/rfc3229#section-10.4.1" class="relref">Section 10.4.1</a></span>).<a href="#section-8.2-2.4.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-8.2-3">A <span id="iref-resource-server-166" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> that does not serve PREP <span id="iref-notification-167" class="iref"></span><a href="#notification" class="internal xref">notifications</a>, on account of the response not having one of the above-mentioned status codes:<a href="#section-8.2-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.2-4.1">
            <p id="section-8.2-4.1.1"><span class="bcp14">SHOULD</span> include the <span id="iref-events-168" class="iref"></span><a href="#events-header" class="internal xref"><code>Events</code></a> header fields where:<a href="#section-8.2-4.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.2-4.1.2.1">
                <p id="section-8.2-4.1.2.1.1">the <code>protocol</code> <span id="iref-event-field-169" class="iref"></span><a href="#event-field" class="internal xref">event field</a> <span class="bcp14">MUST</span> be set to a value of <code>prep</code>,<a href="#section-8.2-4.1.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-8.2-4.1.2.2">
                <p id="section-8.2-4.1.2.2.1">the <code>status</code> <span id="iref-event-field-170" class="iref"></span><a href="#event-field" class="internal xref">event field</a> <span class="bcp14">MUST</span> be set to <code>412 (Precondition Failed)</code> (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-15.5.13" class="relref">Section 15.5.13</a></span>) status code.<a href="#section-8.2-4.1.2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
        </ul>
</section>
</div>
<div id="response-with-notification-errors">
<section id="section-8.3">
        <h3 id="name-notification-errors">
<a href="#section-8.3" class="section-number selfRef">8.3. </a><a href="#name-notification-errors" class="section-name selfRef">Notification Errors</a>
        </h3>
<p id="section-8.3-1">A <span id="iref-resource-server-171" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> might still not be able to send <span id="iref-notification-172" class="iref"></span><a href="#notification" class="internal xref">notifications</a> using the Per Resource Events Protocol requested by an <span id="iref-application-client-173" class="iref"></span><a href="#application-client" class="internal xref">application client</a> despite a valid response.<a href="#section-8.3-1" class="pilcrow">¶</a></p>
<p id="section-8.3-2">A <span id="iref-resource-server-174" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> unable to serve PREP <span id="iref-notification-175" class="iref"></span><a href="#notification" class="internal xref">notifications</a>, even when the request results in a status code mentioned in <a href="#error-response" class="auto internal xref">Section 8.2</a>:<a href="#section-8.3-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.3-3.1">
            <p id="section-8.3-3.1.1"><span class="bcp14">SHOULD</span> include the <span id="iref-events-176" class="iref"></span><a href="#events-header" class="internal xref"><code>Events</code></a> header fields in the response where:<a href="#section-8.3-3.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.3-3.1.2.1">
                <p id="section-8.3-3.1.2.1.1">the <code>protocol</code> <span id="iref-event-field-177" class="iref"></span><a href="#event-field" class="internal xref">event field</a> <span class="bcp14">MUST</span> be set to a value of <code>prep</code>,<a href="#section-8.3-3.1.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-8.3-3.1.2.2">
                <p id="section-8.3-3.1.2.2.1">the <code>status</code> <span id="iref-event-field-178" class="iref"></span><a href="#event-field" class="internal xref">event field</a> <span class="bcp14">MUST</span> be set to appropriate  status code indicating the reason for not serving <span id="iref-notification-179" class="iref"></span><a href="#notification" class="internal xref">notifications</a>.<a href="#section-8.3-3.1.2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="notifications-response">
<section id="section-9">
      <h2 id="name-notifications-response">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-notifications-response" class="section-name selfRef">Notifications Response</a>
      </h2>
<div id="notifications-response-headers">
<section id="section-9.1">
        <h3 id="name-headers">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-headers" class="section-name selfRef">Headers</a>
        </h3>
<p id="section-9.1-1">A <span id="iref-resource-server-180" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> providing <span id="iref-notification-181" class="iref"></span><a href="#notification" class="internal xref">notifications</a> using the Per Resource Events Protocol:<a href="#section-9.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.1-2.1">
            <p id="section-9.1-2.1.1"><span class="bcp14">MUST</span> include the following header fields in the response:<a href="#section-9.1-2.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.1-2.1.2.1">
                <p id="section-9.1-2.1.2.1.1"><code>Date</code> (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-6.6.1" class="relref">Section 6.6.1</a></span>).<a href="#section-9.1-2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-9.1-2.1.2.2">
                <p id="section-9.1-2.1.2.2.1"><code>Content-Type</code> (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-8.3" class="relref">Section 8.3</a></span>) with the media type set to <code>multipart/mixed</code> (<span>[<a href="#RFC2046" class="cite xref">RFC2046</a>], <a href="https://rfc-editor.org/rfc/rfc2046#section-5.1.3" class="relref">Section 5.1.3</a></span>).<a href="#section-9.1-2.1.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-9.1-2.1.2.3">
                <p id="section-9.1-2.1.2.3.1"><span id="iref-events-182" class="iref"></span><a href="#events-header" class="internal xref"><code>Events</code></a> which <span class="bcp14">MUST</span> include the following <span id="iref-event-field-183" class="iref"></span><a href="#event-field" class="internal xref">event fields</a>:<a href="#section-9.1-2.1.2.3.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.1-2.1.2.3.2.1">
                    <p id="section-9.1-2.1.2.3.2.1.1"><code>protocol</code> set to the value <code>prep</code>.<a href="#section-9.1-2.1.2.3.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="normal" id="section-9.1-2.1.2.3.2.2">
                    <p id="section-9.1-2.1.2.3.2.2.1"><code>status</code> set to the <code>200 (OK)</code> (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-15.3.1" class="relref">Section 15.3.1</a></span>) status code.<a href="#section-9.1-2.1.2.3.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li class="normal" id="section-9.1-2.1.2.3.2.3">
                    <p id="section-9.1-2.1.2.3.2.3.1"><code>expires</code> with an integer value in seconds indicating an interval after <code>Date</code> when <span id="iref-notification-184" class="iref"></span><a href="#notification" class="internal xref">notifications</a> will no longer be sent and the response stream is closed.<a href="#section-9.1-2.1.2.3.2.3.1" class="pilcrow">¶</a></p>
</li>
                </ul>
<p id="section-9.1-2.1.2.3.3">
NOTE: Since caching is meaningless in the context of <span id="iref-notification-185" class="iref"></span><a href="#notification" class="internal xref">notifications</a>, this specifications repurposes the deprecated <code>Expires</code> header field as an <span id="iref-event-field-186" class="iref"></span><a href="#event-field" class="internal xref">event field</a> to specify when the <span id="iref-notification-187" class="iref"></span><a href="#notification" class="internal xref">notifications</a> response ends.<a href="#section-9.1-2.1.2.3.3" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="normal" id="section-9.1-2.2">
            <p id="section-9.1-2.2.1"><span class="bcp14">SHOULD</span> include the following header fields in the response:<a href="#section-9.1-2.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.1-2.2.2.1">
                <p id="section-9.1-2.2.2.1.1"><code>Vary</code> (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-12.5.5" class="relref">Section 12.5.5</a></span>) which <span class="bcp14">MUST</span> include the following values:<a href="#section-9.1-2.2.2.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.1-2.2.2.1.2.1">
                    <p id="section-9.1-2.2.2.1.2.1.1"><span id="iref-accept-events-188" class="iref"></span><a href="#accept-events-header" class="internal xref"><code>Accept-Events</code></a>.<a href="#section-9.1-2.2.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="normal" id="section-9.1-2.2.2.1.2.2">
                    <p id="section-9.1-2.2.2.1.2.2.1"><code>Last-Event-ID</code>, if the request for PREP <span id="iref-notification-189" class="iref"></span><a href="#notification" class="internal xref">notifications</a> included the <code>Last-Event-ID</code> header field that was not ignored by the <span id="iref-resource-server-190" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a>.<a href="#section-9.1-2.2.2.1.2.2.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="normal" id="section-9.1-2.2.2.2">
                <p id="section-9.1-2.2.2.2.1"><code>Last-Modified</code> (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-8.8.2" class="relref">Section 8.8.2</a></span>).<a href="#section-9.1-2.2.2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="normal" id="section-9.1-2.3">
            <p id="section-9.1-2.3.1"><span class="bcp14">MAY</span> include the following header fields in the response:<a href="#section-9.1-2.3.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.1-2.3.2.1">
                <p id="section-9.1-2.3.2.1.1"><span id="iref-accept-events-191" class="iref"></span><a href="#accept-events-header" class="internal xref"><code>Accept-Events</code></a> which <span class="bcp14">MUST</span> list <code>prep</code> as one of the available <span id="iref-notification-192" class="iref"></span><a href="#notification" class="internal xref">notification</a> protocols. Associated with the <code>prep</code> list item, the <span id="iref-resource-server-193" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a>:<a href="#section-9.1-2.3.2.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.1-2.3.2.1.2.1">
                    <p id="section-9.1-2.3.2.1.2.1.1"><span class="bcp14">MUST</span> include an <code>accept</code> <span id="iref-event-field-194" class="iref"></span><a href="#event-field" class="internal xref">event field</a> with at least one acceptable media-type for <span id="iref-notification-195" class="iref"></span><a href="#notification" class="internal xref">notifications</a>.<a href="#section-9.1-2.3.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
        </ul>
</section>
</div>
<div id="notifications-response-body">
<section id="section-9.2">
        <h3 id="name-body">
<a href="#section-9.2" class="section-number selfRef">9.2. </a><a href="#name-body" class="section-name selfRef">Body</a>
        </h3>
<p id="section-9.2-1">A <span id="iref-resource-server-196" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> sending PREP <span id="iref-notification-197" class="iref"></span><a href="#notification" class="internal xref">Notifications</a> <span class="bcp14">MUST</span> transmit a multipart message body (<span>[<a href="#RFC2046" class="cite xref">RFC2046</a>], <a href="https://rfc-editor.org/rfc/rfc2046#section-5.1" class="relref">Section 5.1</a></span>) with a media type of <code>multipart/mixed</code> (<span>[<a href="#RFC2046" class="cite xref">RFC2046</a>], <a href="https://rfc-editor.org/rfc/rfc2046#section-5.1.3" class="relref">Section 5.1.3</a></span>) with two body parts in the order specified below:<a href="#section-9.2-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-9.2-2">
<li id="section-9.2-2.1">
            <p id="section-9.2-2.1.1">Base Response: the message body that would have been sent had <span id="iref-notification-198" class="iref"></span><a href="#notification" class="internal xref">notifications</a> not been requested.<a href="#section-9.2-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li id="section-9.2-2.2">
            <p id="section-9.2-2.2.1"><span id="iref-notification-199" class="iref"></span><a href="#notification" class="internal xref">Notifications</a> Response: the multipart response body with body parts containing <span id="iref-notification-200" class="iref"></span><a href="#notification" class="internal xref">notifications</a> as defined in <a href="#notifications-part-body" class="auto internal xref">Section 9.2.2</a>.<a href="#section-9.2-2.2.1" class="pilcrow">¶</a></p>
</li>
        </ol>
<div id="base-response-part-body">
<section id="section-9.2.1">
          <h4 id="name-base-response">
<a href="#section-9.2.1" class="section-number selfRef">9.2.1. </a><a href="#name-base-response" class="section-name selfRef">Base Response</a>
          </h4>
<p id="section-9.2.1-1">By default, the Per Resource Events Protocol requires a <span id="iref-resource-server-201" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> to transmit the <span id="iref-base-response-202" class="iref"></span><a href="#base-response" class="internal xref">base response</a> body as first body part of multipart response body.
This behaviour is desirable in most scenarios as we short-circuit an extra round trip that would otherwise be needed to fetch the current representation of the resource before fetching <span id="iref-notification-203" class="iref"></span><a href="#notification" class="internal xref">notifications</a> and eliminates the need to co-ordinate the two responses.<a href="#section-9.2.1-1" class="pilcrow">¶</a></p>
<div id="base-response-opt-out">
<section id="section-9.2.1.1">
            <h5 id="name-opt-out">
<a href="#section-9.2.1.1" class="section-number selfRef">9.2.1.1. </a><a href="#name-opt-out" class="section-name selfRef">Opt out</a>
            </h5>
<p id="section-9.2.1.1-1">An <span id="iref-application-client-204" class="iref"></span><a href="#application-client" class="internal xref">application client</a> requesting only <span id="iref-notification-205" class="iref"></span><a href="#notification" class="internal xref">notifications</a> using the Per Resource Events Protocol needs to explicitly opt out of receiving the <span id="iref-base-response-206" class="iref"></span><a href="#base-response" class="internal xref">base response</a> as described in <a href="#request" class="auto internal xref">Section 7</a>, <a href="#request" class="internal xref">Request</a>.<a href="#section-9.2.1.1-1" class="pilcrow">¶</a></p>
<p id="section-9.2.1.1-2">If the request for PREP <span id="iref-notification-207" class="iref"></span><a href="#notification" class="internal xref">notifications</a> includes the <code>Last-Event-ID</code> header field (<span>[<a href="#SSE" class="cite xref">SSE</a>]</span>, <a href="SSE#the-last-event-id-header">Section 9.2.4</a>) which matches the <code>Event-ID</code> of the last event on the resource or wildcard character "*", a <span id="iref-resource-server-208" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> <span class="bcp14">SHOULD NOT</span> send the content of the <span id="iref-base-response-209" class="iref"></span><a href="#base-response" class="internal xref">base response</a>.<a href="#section-9.2.1.1-2" class="pilcrow">¶</a></p>
<p id="section-9.2.1.1-3">The <span id="iref-resource-server-210" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> <span class="bcp14">MUST</span> send still the first body part of the multipart response body, even if this part is empty. The <span id="iref-resource-server-211" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> <span class="bcp14">MAY</span> send the headers corresponding to the representation body that would have been sent in the <span id="iref-base-response-212" class="iref"></span><a href="#base-response" class="internal xref">base response</a>, and only omit the representation body of <span id="iref-base-response-213" class="iref"></span><a href="#base-response" class="internal xref">base response</a>.<a href="#section-9.2.1.1-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="notifications-part-body">
<section id="section-9.2.2">
          <h4 id="name-notifications">
<a href="#section-9.2.2" class="section-number selfRef">9.2.2. </a><a href="#name-notifications" class="section-name selfRef">Notifications</a>
          </h4>
<p id="section-9.2.2-1">A <span id="iref-resource-server-214" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> <span class="bcp14">MUST</span> transmit PREP <span id="iref-notification-215" class="iref"></span><a href="#notification" class="internal xref">notifications</a> in the second body part of the multipart response as yet another embedded multipart message body (<span>[<a href="#RFC2046" class="cite xref">RFC2046</a>], <a href="https://rfc-editor.org/rfc/rfc2046#section-5.1" class="relref">Section 5.1</a></span>), with a media type of <code>multipart/digest</code> (<span>[<a href="#RFC2046" class="cite xref">RFC2046</a>], <a href="https://rfc-editor.org/rfc/rfc2046#section-5.1.5" class="relref">Section 5.1.5</a></span>) that <span class="bcp14">MAY</span> include zero or more body parts. Each body part of the <span id="iref-notification-216" class="iref"></span><a href="#notification" class="internal xref">notifications</a> multipart message body <span class="bcp14">MAY</span> contain at most one <span id="iref-notification-217" class="iref"></span><a href="#notification" class="internal xref">notification</a>.<a href="#section-9.2.2-1" class="pilcrow">¶</a></p>
<aside id="section-9.2.2-2">
            <p id="section-9.2.2-2.1"><strong>Implementation Guidance</strong><a href="#section-9.2.2-2.1" class="pilcrow">¶</a></p>
<p id="section-9.2.2-2.2">While not strictly necessary, it is strongly encouraged that <span id="iref-resource-server-218" class="iref"></span><a href="#resource-server" class="internal xref">resource servers</a> send <span id="iref-notification-219" class="iref"></span><a href="#notification" class="internal xref">notifications</a> in a manner such that the boundary delimiter (<span>[<a href="#RFC2046" class="cite xref">RFC2046</a>], <a href="https://rfc-editor.org/rfc/rfc2046#section-5.1.2" class="relref">Section 5.1.2</a></span>) is always at the end of a chunk (<span>[<a href="#RFC9112" class="cite xref">HTTP/1.1</a>], <a href="https://rfc-editor.org/rfc/rfc9112#section-7.1" class="relref">Section 7.1</a></span>) or data frame (<span>[<a href="#RFC9113" class="cite xref">HTTP/2</a>], <a href="https://rfc-editor.org/rfc/rfc9113#section-6.1" class="relref">Section 6.1</a></span>) as shown in the examples below. This way an <span id="iref-application-client-220" class="iref"></span><a href="#application-client" class="internal xref">application client</a> does not have to wait until the next chunk or frame (which might be a while or in cases of error never arrive) to be certain that the immediate message is complete.<a href="#section-9.2.2-2.2" class="pilcrow">¶</a></p>
</aside>
</section>
</div>
</section>
</div>
<div id="notifications-response-termination">
<section id="section-9.3">
        <h3 id="name-termination">
<a href="#section-9.3" class="section-number selfRef">9.3. </a><a href="#name-termination" class="section-name selfRef">Termination</a>
        </h3>
<p id="section-9.3-1">A <span id="iref-resource-server-221" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> <span class="bcp14">MUST</span> end the <span id="iref-notification-222" class="iref"></span><a href="#notification" class="internal xref">notification</a> response in any one of the following scenarios:<a href="#section-9.3-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.3-2.1">
            <p id="section-9.3-2.1.1">Once the time specified in the <code>expires</code> parameter of the <span id="iref-events-223" class="iref"></span><a href="#events-header" class="internal xref"><code>Events</code></a> header field has elapsed.<a href="#section-9.3-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-9.3-2.2">
            <p id="section-9.3-2.2.1">Immediately after sending a <span id="iref-notification-224" class="iref"></span><a href="#notification" class="internal xref">notification</a> upon a <code>DELETE</code> request on the resource that results in a response with <code>200 (OK)</code> (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-15.3.1" class="relref">Section 15.3.1</a></span>) or <code>204 (No Content)</code> (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-15.3.5" class="relref">Section 15.3.5</a></span>) status codes.<a href="#section-9.3-2.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-9.3-3">A <span id="iref-resource-server-225" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> <span class="bcp14">MUST</span> properly terminate the multipart responses as defined in <span>[<a href="#RFC2046" class="cite xref">RFC2046</a>], <a href="https://rfc-editor.org/rfc/rfc2046#section-5.1.2" class="relref">Section 5.1.2</a></span>, before closing the response stream.<a href="#section-9.3-3" class="pilcrow">¶</a></p>
<aside id="section-9.3-4">
          <p id="section-9.3-4.1"><strong>Implementation Guidance</strong><a href="#section-9.3-4.1" class="pilcrow">¶</a></p>
<p id="section-9.3-4.2">When a user navigates away from a website or an application using PREP <span id="iref-notification-226" class="iref"></span><a href="#notification" class="internal xref">notifications</a>, <span id="iref-application-client-227" class="iref"></span><a href="#application-client" class="internal xref">application clients</a> are strongly encouraged to properly close the response stream to ensure that servers do not keep sending <span id="iref-notification-228" class="iref"></span><a href="#notification" class="internal xref">notifications</a>.<a href="#section-9.3-4.2" class="pilcrow">¶</a></p>
</aside>
<div id="examples">
<section id="section-9.3.1">
          <h4 id="name-examples">
<a href="#section-9.3.1" class="section-number selfRef">9.3.1. </a><a href="#name-examples" class="section-name selfRef">Examples</a>
          </h4>
<div id="response-with-current-representation-and-notifications">
<section id="section-9.3.1.1">
            <h5 id="name-response-with-current-repre">
<a href="#section-9.3.1.1" class="section-number selfRef">9.3.1.1. </a><a href="#name-response-with-current-repre" class="section-name selfRef">Response with Current Representation and Notifications</a>
            </h5>
<span id="name-notification-response-with-"></span><div id="full-response-example">
<figure id="figure-11">
              <div class="alignLeft art-text artwork" id="section-9.3.1.1-1.1">
<pre>
HTTP/1.1 200 OK
Vary: Accept-Events
Accept-Events: "prep"; accept="message/rfc822"
Events: protocol="prep", status=200, vary="accept"
Last-Modified: Sat, 1 April 2023 10:11:12 GMT
Transfer-Encoding: chunked
Content-Type: multipart/mixed; boundary="main-boundary"

--main-boundary
Content-Type: text/html

&lt;html&gt;

--main-boundary
Content-Type: multipart/digest; boundary="next-message"

--next-message
Content-Type: message/rfc822

&lt;message&gt;

--next-message--
--main-boundary--
</pre>
</div>
<figcaption><a href="#figure-11" class="selfRef">Figure 11</a>:
<a href="#name-notification-response-with-" class="selfRef">Notification Response with Representation included</a>
              </figcaption></figure>
</div>
</section>
</div>
<div id="response-with-notifications-only">
<section id="section-9.3.1.2">
            <h5 id="name-response-with-notifications">
<a href="#section-9.3.1.2" class="section-number selfRef">9.3.1.2. </a><a href="#name-response-with-notifications" class="section-name selfRef">Response with Notifications Only</a>
            </h5>
<span id="name-response-with-notifications-"></span><div id="basic-response-example">
<figure id="figure-12">
              <div class="alignLeft art-text artwork" id="section-9.3.1.2-1.1">
<pre>
HTTP/1.1 200 OK
Vary: Accept-Events, Last-Event-ID
Accept-Events: "prep"; accept="message/rfc822"
Events: protocol="prep", status=200, vary="accept"
Last-Modified: Sat, 1 April 2023 10:11:12 GMT
Transfer-Encoding: chunked
Content-Type: multipart/mixed; boundary="main-boundary"

--main-boundary
Content-Type: text/html

--main-boundary
Content-Type: multipart/digest; boundary="next-message"

--next-message
Content-Type: message/rfc822

&lt;message&gt;
--next-message--
--main-boundary--
</pre>
</div>
<figcaption><a href="#figure-12" class="selfRef">Figure 12</a>:
<a href="#name-response-with-notifications-" class="selfRef">Response with Notifications Only</a>
              </figcaption></figure>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="rfc822-semantics">
<section id="section-10">
      <h2 id="name-semantics-for-message-rfc82">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-semantics-for-message-rfc82" class="section-name selfRef">Semantics for <code>message/rfc822</code> notifications</a>
      </h2>
<p id="section-10-1">The <code>multipart/digest</code> multipart media-type (<span>[<a href="#RFC2046" class="cite xref">RFC2046</a>], <a href="https://rfc-editor.org/rfc/rfc2046#section-5.1.5" class="relref">Section 5.1.5</a></span>) uses <code>message/rfc822</code> media-type (<span>[<a href="#RFC2046" class="cite xref">RFC2046</a>], <a href="https://rfc-editor.org/rfc/rfc2046#section-5.2.1" class="relref">Section 5.2.1</a></span>) for body parts as default. It follows that the Per Resource Events Protocol transmits <span id="iref-notification-229" class="iref"></span><a href="#notification" class="internal xref">notifications</a> as <code>message/rfc822</code>, unless the <span id="iref-application-client-230" class="iref"></span><a href="#application-client" class="internal xref">application client</a> requests otherwise.<a href="#section-10-1" class="pilcrow">¶</a></p>
<div id="rfc822-request">
<section id="section-10.1">
        <h3 id="name-request-3">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-request-3" class="section-name selfRef">Request</a>
        </h3>
<p id="section-10.1-1">An <span id="iref-application-client-231" class="iref"></span><a href="#application-client" class="internal xref">application clients</a> <span class="bcp14">MAY</span> specify additional parameters to <code>message/rfc822</code> <span id="iref-notification-232" class="iref"></span><a href="#notification" class="internal xref">notification</a> media-type in the <code>accept</code> <span id="iref-event-field-233" class="iref"></span><a href="#event-field" class="internal xref">event field</a> associated with the <code>prep</code> list item in the <span id="iref-accept-events-234" class="iref"></span><a href="#accept-events-header" class="internal xref"><code>Accept-Events</code></a> header field of the request.<a href="#section-10.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="rfc822-notification">
<section id="section-10.2">
        <h3 id="name-notification">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-notification" class="section-name selfRef">Notification</a>
        </h3>
<p id="section-10.2-1">A <span id="iref-resource-server-235" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> implementing the Per Resource Events Protocol <span class="bcp14">SHOULD</span> send a <span id="iref-notification-236" class="iref"></span><a href="#notification" class="internal xref">notification</a> to an <span id="iref-application-client-237" class="iref"></span><a href="#application-client" class="internal xref">application client</a> when a request with one of the following methods generates a response with any of the following status codes:<a href="#section-10.2-1" class="pilcrow">¶</a></p>
<span id="name-notification-triggers"></span><div id="notification-triggers">
<table class="center" id="table-1">
          <caption>
<a href="#table-1" class="selfRef">Table 1</a>:
<a href="#name-notification-triggers" class="selfRef">Notification Triggers</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Request Method</th>
              <th class="text-left" rowspan="1" colspan="1">Response Status</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>PUT</code> (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-9.3.4" class="relref">Section 9.3.4</a></span>)</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>200 (OK)</code> (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-15.3.1" class="relref">Section 15.3.1</a></span>)</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>PATCH</code> (<span>[<a href="#RFC5789" class="cite xref">RFC5789</a>]</span>)</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>204 (No Content)</code> (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-15.3.5" class="relref">Section 15.3.5</a></span>)</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>DELETE</code> (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-9.3.5" class="relref">Section 9.3.5</a></span>)</td>
              <td class="text-left" rowspan="1" colspan="1"> </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1"> </td>
              <td class="text-left" rowspan="1" colspan="1"> </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>POST</code> (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-9.3.3" class="relref">Section 9.3.3</a></span>)</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>200 (OK)</code> (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-15.3.1" class="relref">Section 15.3.1</a></span>)</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1"> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>204 (No Content)</code> (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-15.3.5" class="relref">Section 15.3.5</a></span>)</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1"> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>201 (Created)</code> (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-15.3.2" class="relref">Section 15.3.2</a></span>)</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1"> </td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>205 (Reset Content)</code> (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-15.3.6" class="relref">Section 15.3.6</a></span>)</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-10.2-3">The <span id="iref-notification-238" class="iref"></span><a href="#notification" class="internal xref">notification</a> <span class="bcp14">MUST NOT</span> be sent before the success response has been sent to the user agent that initiated the request.<a href="#section-10.2-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="rfc822-headers">
<section id="section-10.3">
        <h3 id="name-headers-2">
<a href="#section-10.3" class="section-number selfRef">10.3. </a><a href="#name-headers-2" class="section-name selfRef">Headers</a>
        </h3>
<p id="section-10.3-1">A <span id="iref-resource-server-239" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> <span class="bcp14">MUST</span> include the following header fields in a <code>message/rfc822</code> formatted PREP <span id="iref-notification-240" class="iref"></span><a href="#notification" class="internal xref">notification</a>:<a href="#section-10.3-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-10.3-2">
          <dt id="section-10.3-2.1"><code>Method</code></dt>
          <dd style="margin-left: 1.5em" id="section-10.3-2.2">
            <p id="section-10.3-2.2.1">identical to <code>:method</code> pseudo-header field in a HTTP/2 request (<span>[<a href="#RFC9113" class="cite xref">HTTP/2</a>], <a href="https://rfc-editor.org/rfc/rfc9113#section-8.3.1" class="relref">Section 8.3.1</a></span>), that specifies the request method that triggered the <span id="iref-notification-241" class="iref"></span><a href="#notification" class="internal xref">notification</a>.<a href="#section-10.3-2.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-10.3-2.3"><code>Date</code></dt>
          <dd style="margin-left: 1.5em" id="section-10.3-2.4">
            <p id="section-10.3-2.4.1">identical to <code>Date</code> header field in a HTTP response (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-6.6.1" class="relref">Section 6.6.1</a></span>), that specifies date and time at which the event that triggered the <span id="iref-notification-242" class="iref"></span><a href="#notification" class="internal xref">notification</a> was completed.<a href="#section-10.3-2.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-10.3-2.5"><code>Event-ID</code></dt>
          <dd style="margin-left: 1.5em" id="section-10.3-2.6">
            <p id="section-10.3-2.6.1">an opaque identifier for the generated <span id="iref-notification-243" class="iref"></span><a href="#notification" class="internal xref">notification</a>.<a href="#section-10.3-2.6.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-10.3-3">A <span id="iref-resource-server-244" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> <span class="bcp14">SHOULD</span> include the following headers in a <code>message/rfc822</code> formatted PREP <span id="iref-notification-245" class="iref"></span><a href="#notification" class="internal xref">notification</a> when the state of the resource or its representation is modified as a result of the event:<a href="#section-10.3-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-10.3-4">
          <dt id="section-10.3-4.1"><code>ETag</code></dt>
          <dd style="margin-left: 1.5em" id="section-10.3-4.2">
            <p id="section-10.3-4.2.1">identical to <code>ETag</code> header field (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-8.8.3" class="relref">Section 8.8.3</a></span>) in a HTTP response. The <code>ETag</code> sent <span class="bcp14">MUST</span> be for the same <code>Content-Type</code> as the representation that was sent in the <span id="iref-notification-246" class="iref"></span><a href="#notification" class="internal xref">notification</a> response or that would have been sent in the absense of the <code>Last-Events-ID</code> header.<a href="#section-10.3-4.2.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
<span id="name-put-notification-message"></span><div id="rfc822-PUT">
<figure id="figure-13">
          <div class="lang-http-message sourcecode" id="section-10.3-5.1">
<pre>
--random-boundary  &lt;- From the Previous Message (do not include)
                   &lt;- Empty part response headers &amp; blank line
Method: PUT
Date: Sat, 1 April 2023 10:11:12 GMT
Event-ID: 1234
ETag: "abc123"


--random-boundary
</pre>
</div>
<figcaption><a href="#figure-13" class="selfRef">Figure 13</a>:
<a href="#name-put-notification-message" class="selfRef">`PUT` notification message</a>
          </figcaption></figure>
</div>
<p id="section-10.3-6">A <span id="iref-resource-server-247" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> <span class="bcp14">MUST</span> include the following headers in a <code>message/rfc822</code> formatted PREP <span id="iref-notification-248" class="iref"></span><a href="#notification" class="internal xref">notification</a> when a request modifies another resource:<a href="#section-10.3-6" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-10.3-7">
          <dt id="section-10.3-7.1"><code>Content-Location</code></dt>
          <dd style="margin-left: 1.5em" id="section-10.3-7.2">
            <p id="section-10.3-7.2.1">identical to the <code>Content-Location</code> header field (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-8.7" class="relref">Section 8.7</a></span>).<a href="#section-10.3-7.2.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
<span id="name-post-notification-message-m"></span><div id="rfc822-POST">
<figure id="figure-14">
          <div class="lang-http-message sourcecode" id="section-10.3-8.1">
<pre>
--random-boundary  &lt;- From the Previous Message (do not include)
                   &lt;- Empty part response headers &amp; blank line
Method: POST
Date: Sat, 1 April 2023 10:12:14 GMT
Event-ID: 1235
Content-Location: /foo


--random-boundary
</pre>
</div>
<figcaption><a href="#figure-14" class="selfRef">Figure 14</a>:
<a href="#name-post-notification-message-m" class="selfRef">`POST` notification message modifying another resource</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="rfc822-body">
<section id="section-10.4">
        <h3 id="name-body-2">
<a href="#section-10.4" class="section-number selfRef">10.4. </a><a href="#name-body-2" class="section-name selfRef">Body</a>
        </h3>
<p id="section-10.4-1">The body of a <code>message/rfc822</code> formatted PREP <span id="iref-notification-249" class="iref"></span><a href="#notification" class="internal xref">notification</a> might be used to provide a <span id="iref-delta-representation-250" class="iref"></span>delta representation, the difference between the state of the representation before and after the most recent event on the resource.<a href="#section-10.4-1" class="pilcrow">¶</a></p>
<p id="section-10.4-2">If the <span id="iref-application-client-251" class="iref"></span><a href="#application-client" class="internal xref">application client</a> does not specify <code>delta</code> parameter associated with a preferred <span id="iref-notification-252" class="iref"></span><a href="#notification" class="internal xref">notifications</a> format of <code>message/rfc822</code> in the <code>accept</code> <span id="iref-event-field-253" class="iref"></span><a href="#event-field" class="internal xref">event field</a> of the <span><a href="#request" class="internal xref">​request</a> (<a href="#request" class="auto internal xref">Section 7</a>)</span> that results in <code>message/rfc822</code> formatted PREP <span id="iref-notification-254" class="iref"></span><a href="#notification" class="internal xref">notifications</a>, the <span id="iref-notification-255" class="iref"></span><a href="#notification" class="internal xref">notifications</a> <span class="bcp14">MUST NOT</span> contain a body.<a href="#section-10.4-2" class="pilcrow">¶</a></p>
<p id="section-10.4-3">If state of the resource is not modified as a result of an HTTP operation, the resulting <span id="iref-notification-256" class="iref"></span><a href="#notification" class="internal xref">notification</a> <span class="bcp14">MUST NOT</span> contain a body.<a href="#section-10.4-3" class="pilcrow">¶</a></p>
<p id="section-10.4-4">If the <span id="iref-application-client-257" class="iref"></span><a href="#application-client" class="internal xref">application client</a> specifies a <code>delta</code> parameter associated with a preferred <span id="iref-notification-258" class="iref"></span><a href="#notification" class="internal xref">notifications</a> format of <code>message/rfc822</code> in the <code>accept</code> <span id="iref-event-field-259" class="iref"></span><a href="#event-field" class="internal xref">event field</a> of the <span><a href="#request" class="internal xref">​request</a> (<a href="#request" class="auto internal xref">Section 7</a>)</span> that results in <code>message/rfc822</code> formatted PREP <span id="iref-notification-260" class="iref"></span><a href="#notification" class="internal xref">notifications</a>, a <span id="iref-resource-server-261" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a>:<a href="#section-10.4-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-10.4-5.1">
            <p id="section-10.4-5.1.1"><span class="bcp14">SHOULD</span> send the <span id="iref-delta-representation-262" class="iref"></span>delta representation as the body of the <span id="iref-notification-263" class="iref"></span><a href="#notification" class="internal xref">notification</a> generated upon a <code>PATCH</code> (<span>[<a href="#RFC5789" class="cite xref">RFC5789</a>]</span>) operation.<a href="#section-10.4-5.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-10.4-5.2">
            <p id="section-10.4-5.2.1"><span class="bcp14">MAY</span> send the <span id="iref-delta-representation-264" class="iref"></span>delta representation as the body of the <span id="iref-notification-265" class="iref"></span><a href="#notification" class="internal xref">notification</a> generated upon a <code>PUT</code> (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-9.3.4" class="relref">Section 9.3.4</a></span>) or a <code>POST</code> (<span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-9.3.3" class="relref">Section 9.3.3</a></span>) operation.<a href="#section-10.4-5.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-10.4-6">A <span id="iref-resource-server-266" class="iref"></span><a href="#resource-server" class="internal xref">resource server</a> <span class="bcp14">SHOULD</span> send the <span id="iref-delta-representation-267" class="iref"></span>delta representation in the content-type preferred by the client as specified by the <code>delta</code> parameter.<a href="#section-10.4-6" class="pilcrow">¶</a></p>
<span id="name-patch-notification-with-del"></span><div id="rfc822-PATCH-delta">
<figure id="figure-15">
          <div class="lang-http-message sourcecode" id="section-10.4-7.1">
<pre>
--random-boundary  &lt;- From the Previous Message (do not include)
                   &lt;- Empty part response headers &amp; blank line
Method: PATCH
Date: Sat, 1 April 2023 10:14:16 GMT
Event-ID: 1236
ETag: "xyz987"
Content-type: application/example

&lt;delta&gt;

--random-boundary
</pre>
</div>
<figcaption><a href="#figure-15" class="selfRef">Figure 15</a>:
<a href="#name-patch-notification-with-del" class="selfRef">`PATCH` notification with delta representation</a>
          </figcaption></figure>
</div>
</section>
</div>
</section>
</div>
<div id="implementation-guidance">
<section id="section-11">
      <h2 id="name-implementation-guidance">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-implementation-guidance" class="section-name selfRef">Implementation Guidance</a>
      </h2>
<p id="section-11-1">A Connect/Express style middleware for parsing the <code>Accept-Events</code> header field is available at <a href="https://github.com/CxRes/express-accept-events/">https://github.com/CxRes/express-accept-events/</a> and can be installed from npm as <code>express-accept-events</code>. Complementing this is a Connect/Express style middleware that negotiates an appropriate <span id="iref-notification-268" class="iref"></span><a href="#notification" class="internal xref">notifications</a> protocol on the resource based on the request made using the <code>Accept-Event</code> header field, available at <a href="https://github.com/CxRes/express-negotiate-events/">https://github.com/CxRes/express-negotiate-events/</a> and can be installed from npm as <code>express-negotiate-events</code>.<a href="#section-11-1" class="pilcrow">¶</a></p>
<p id="section-11-2">An early implementation of the Per Resource Events Protocol, also in the form of a Connect/Express style middleware, is available at <a href="https://github.com/CxRes/express-prep/">https://github.com/CxRes/express-prep/</a> and can be installed from npm as <code>express-prep</code>.<a href="#section-11-2" class="pilcrow">¶</a></p>
<p id="section-11-3">Express Accept Events, Express Negotiate Events and Express PREP are Free and Open Source Software, released under the Mozilla Public License v2.0.<a href="#section-11-3" class="pilcrow">¶</a></p>
<p id="section-11-4">The W3C Solid Community Group is developing a specification called Solid-PREP that defines representation and semantics for PREP <span id="iref-notification-269" class="iref"></span><a href="#notification" class="internal xref">notifications</a> sent from LDP Resources hosted on Solid storage. This specification enables Solid servers to incorporate the Per Resource Events as a means for sending <span id="iref-notification-270" class="iref"></span><a href="#notification" class="internal xref">notifications</a>. Solid-PREP is available at <a href="https://github.com/solid/solid-prep/">https://github.com/solid/solid-prep/</a> and is released under the W3C Software and Document license - version 2023.<a href="#section-11-4" class="pilcrow">¶</a></p>
<p id="section-11-5">The Node Solid Server, an open source server that implements the Solid Protocol, is in the process of implementing <span id="iref-notification-271" class="iref"></span><a href="#notification" class="internal xref">notifications</a> using the Per Resource Events Protocol and Solid-PREP at <a href="https://github.com/nodeSolidServer/node-solid-server/tree/prep">https://github.com/nodeSolidServer/node-solid-server/tree/prep</a>.<a href="#section-11-5" class="pilcrow">¶</a></p>
<p id="section-11-6">The PREP Fetch <a href="https://github.com/CxRes/prep-fetch/">https://github.com/CxRes/prep-fetch/</a> library provides a convinient way to consume fetch <span>[<a href="#FETCH" class="cite xref">FETCH</a>]</span> respsones containing PREP <span id="iref-notification-272" class="iref"></span><a href="#notification" class="internal xref">notification</a>. PREP Fetch itself is a thin wrapper on top of Multipart Fetch <a href="https://github.com/CxRes/multipart-fetch/">https://github.com/CxRes/multipart-fetch/</a> that streams the parts of a multipart response as a series of Fetch Responses.<a href="#section-11-6" class="pilcrow">¶</a></p>
<p id="section-11-7">PREP Fetch and Multipart Fetch are Free and Open Source Software, released under the Mozilla Public License v2.0.<a href="#section-11-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="security-considerations">
<section id="section-12">
      <h2 id="name-security-considerations">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-12-1">Since the Per Resource Events Protocol uses HTTP to transmit <span id="iref-notification-273" class="iref"></span><a href="#notification" class="internal xref">notifications</a>, it follows that the security and privacy considerations that apply to HTTP also apply to PREP. Considerations relevant to HTTP semantics and its use for transferring information over the Internet are discussed in <span><a href="https://rfc-editor.org/rfc/rfc9110#section-17" class="relref">Section 17</a> of [<a href="#HTTP" class="cite xref">HTTP</a>]</span>, and considerations related to HTTP/1.1 message syntax and parsing are discussed in <span><a href="https://rfc-editor.org/rfc/rfc9112#section-11" class="relref">Section 11</a> of [<a href="#RFC9112" class="cite xref">HTTP/1.1</a>]</span>.<a href="#section-12-1" class="pilcrow">¶</a></p>
<p id="section-12-2">The following is a non-exhaustive list of security and privacy considerations that become especially pertinent due to the manner in which PREP uses HTTP for transmitting <span id="iref-notification-274" class="iref"></span><a href="#notification" class="internal xref">notifications</a>:<a href="#section-12-2" class="pilcrow">¶</a></p>
<div id="browser-fingerprinting">
<section id="section-12.1">
        <h3 id="name-browser-fingerprinting">
<a href="#section-12.1" class="section-number selfRef">12.1. </a><a href="#name-browser-fingerprinting" class="section-name selfRef">Browser Fingerprinting</a>
        </h3>
<p id="section-12.1-1">The <span id="iref-accept-events-275" class="iref"></span><a href="#accept-events-header" class="internal xref"><code>Accept-Events</code></a> header field provides an extra vector that can aid unique identification of user agent. Follow the advice in <span>[<a href="#HTTP" class="cite xref">HTTP</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-17.13" class="relref">Section 17.13</a></span> to minimize the risk of fingerprinting.<a href="#section-12.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="denial-of-service-attacks">
<section id="section-12.2">
        <h3 id="name-denial-of-service-attacks">
<a href="#section-12.2" class="section-number selfRef">12.2. </a><a href="#name-denial-of-service-attacks" class="section-name selfRef">Denial-of-Service Attacks</a>
        </h3>
<p id="section-12.2-1">Resources that serve <span id="iref-notification-276" class="iref"></span><a href="#notification" class="internal xref">notifications</a>, by virtue of keeping the response stream open for an extended period of time are more susceptible to Denial-of-Service attacks because the effort required to request <span id="iref-notification-277" class="iref"></span><a href="#notification" class="internal xref">notifications</a> from the same resource is tiny compared to the time, memory, and bandwidth consumed by attempting to serve the <span id="iref-notification-278" class="iref"></span><a href="#notification" class="internal xref">notifications</a>. Servers ought to ignore, coalesce, or reject egregious <span id="iref-notification-279" class="iref"></span><a href="#notification" class="internal xref">notification</a> request, such as repeated <span id="iref-notification-280" class="iref"></span><a href="#notification" class="internal xref">notification</a> requests to resource from the same origin.<a href="#section-12.2-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="iana-considerations">
<section id="section-13">
      <h2 id="name-iana-considerations">
<a href="#section-13" class="section-number selfRef">13. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-13-1">The change controller for the following registrations is: "IETF (iesg@ietf.org) - Internet Engineering Task Force".<a href="#section-13-1" class="pilcrow">¶</a></p>
<div id="header-field-registration">
<section id="section-13.1">
        <h3 id="name-header-field-registration">
<a href="#section-13.1" class="section-number selfRef">13.1. </a><a href="#name-header-field-registration" class="section-name selfRef">Header Field Registration</a>
        </h3>
<p id="section-13.1-1">IANA has registered the following entry in the "<a href="https://www.iana.org/assignments/http-fields/">Hypertext Transfer Protocol (HTTP) Field Name Registry</a>" defined by <span>[<a href="#HTTP" class="cite xref">HTTP</a>]</span>:<a href="#section-13.1-1" class="pilcrow">¶</a></p>
<table class="center" id="table-2">
          <caption><a href="#table-2" class="selfRef">Table 2</a></caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Header Field Names</th>
              <th class="text-left" rowspan="1" colspan="1">Status</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <span id="iref-accept-events-281" class="iref"></span><a href="#accept-events-header" class="internal xref"><code>Accept-Events</code></a>
</td>
              <td class="text-left" rowspan="1" colspan="1">Provisional</td>
              <td class="text-left" rowspan="1" colspan="1">
                <a href="#header-fields" class="auto internal xref">Section 4</a>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <span id="iref-events-282" class="iref"></span><a href="#events-header" class="internal xref"><code>Events</code></a>
</td>
              <td class="text-left" rowspan="1" colspan="1">Provisional</td>
              <td class="text-left" rowspan="1" colspan="1">
                <a href="#header-fields" class="auto internal xref">Section 4</a>
</td>
            </tr>
          </tbody>
        </table>
</section>
</div>
<div id="notifications-protocol-registry">
<section id="section-13.2">
        <h3 id="name-notifications-protocol-regi">
<a href="#section-13.2" class="section-number selfRef">13.2. </a><a href="#name-notifications-protocol-regi" class="section-name selfRef">Notifications Protocol Registry</a>
        </h3>
<p id="section-13.2-1">The <span id="iref-accept-events-283" class="iref"></span><a href="#accept-events-header" class="internal xref"><code>Accept-Events</code></a> and <span id="iref-events-284" class="iref"></span><a href="#events-header" class="internal xref"><code>Events</code></a> header fields identify specific protocols for <span id="iref-notification-285" class="iref"></span><a href="#notification" class="internal xref">notifications</a>. The "HTTP <span id="iref-notification-286" class="iref"></span><a href="#notification" class="internal xref">Notifications</a> Protocol Registry", created and maintained by IANA at <a href="https://www.iana.org/assignments/http-parameters/">https://www.iana.org/assignments/http-parameters/</a>, registers identifiers for <span id="iref-notification-287" class="iref"></span><a href="#notification" class="internal xref">notification</a> protocols.<a href="#section-13.2-1" class="pilcrow">¶</a></p>
<p id="section-13.2-2"><span id="iref-notification-288" class="iref"></span><a href="#notification" class="internal xref">Notifications</a> protocol registrations <span class="bcp14">MUST</span> include the following fields:<a href="#section-13.2-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-13.2-3.1">
            <p id="section-13.2-3.1.1">Identifier<a href="#section-13.2-3.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-13.2-3.2">
            <p id="section-13.2-3.2.1">Name<a href="#section-13.2-3.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-13.2-3.3">
            <p id="section-13.2-3.3.1">Pointer to specification text<a href="#section-13.2-3.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-13.2-4">Initial registrations are given below:<a href="#section-13.2-4" class="pilcrow">¶</a></p>
<table class="center" id="table-3">
          <caption><a href="#table-3" class="selfRef">Table 3</a></caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Identifier</th>
              <th class="text-left" rowspan="1" colspan="1">Name</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">PREP</td>
              <td class="text-left" rowspan="1" colspan="1">Per Resource Events Protocol</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
          </tbody>
        </table>
<p id="section-13.2-6">Values to be added to this namespace require IETF Review (see <span>[<a href="#RFC8126" class="cite xref">RFC8126</a>], <a href="https://rfc-editor.org/rfc/rfc8126#section-4.8" class="relref">Section 4.8</a></span>). Identified protocols <span class="bcp14">MUST</span> conform to the purpose of sending <span id="iref-notification-289" class="iref"></span><a href="#notification" class="internal xref">notifications</a> as defined in <a href="#header-fields" class="auto internal xref">Section 4</a> of this document.<a href="#section-13.2-6" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<section id="section-14">
      <h2 id="name-references">
<a href="#section-14" class="section-number selfRef">14. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<div id="sec-normative-references">
<section id="section-14.1">
        <h3 id="name-normative-references">
<a href="#section-14.1" class="section-number selfRef">14.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="Delta">[Delta]</dt>
        <dd>
<span class="refAuthor">Mogul, J.</span>, <span class="refAuthor">Krishnamurthy, B.</span>, <span class="refAuthor">Douglis, F.</span>, <span class="refAuthor">Feldmann, A.</span>, <span class="refAuthor">Goland, Y.</span>, <span class="refAuthor">van Hoff, A.</span>, and <span class="refAuthor">D. Hellerstein</span>, <span class="refTitle">"Delta encoding in HTTP"</span>, <span class="seriesInfo">RFC 3229</span>, <span class="seriesInfo">DOI 10.17487/RFC3229</span>, <time datetime="2002-01" class="refDate">January 2002</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc3229">https://www.rfc-editor.org/rfc/rfc3229</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="HTTP">[HTTP]</dt>
        <dd>
<span class="refAuthor">Fielding, R., Ed.</span>, <span class="refAuthor">Nottingham, M., Ed.</span>, and <span class="refAuthor">J. Reschke, Ed.</span>, <span class="refTitle">"HTTP Semantics"</span>, <span class="seriesInfo">STD 97</span>, <span class="seriesInfo">RFC 9110</span>, <span class="seriesInfo">DOI 10.17487/RFC9110</span>, <time datetime="2022-06" class="refDate">June 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9110">https://www.rfc-editor.org/rfc/rfc9110</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="HTTP-Retrofit">[HTTP-Retrofit]</dt>
        <dd>
<span class="refAuthor">Nottingham, M.</span>, <span class="refTitle">"Retrofit Structured Fields for HTTP"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-httpbis-retrofit-06</span>, <time datetime="2023-03-31" class="refDate">31 March 2023</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-retrofit-06">https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-retrofit-06</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="HTTP-SF">[HTTP-SF]</dt>
        <dd>
<span class="refAuthor">Nottingham, M.</span> and <span class="refAuthor">P. Kamp</span>, <span class="refTitle">"Structured Field Values for HTTP"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-httpbis-sfbis-06</span>, <time datetime="2024-04-21" class="refDate">21 April 2024</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-sfbis-06">https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-sfbis-06</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9112">[HTTP/1.1]</dt>
        <dd>
<span class="refAuthor">Fielding, R., Ed.</span>, <span class="refAuthor">Nottingham, M., Ed.</span>, and <span class="refAuthor">J. Reschke, Ed.</span>, <span class="refTitle">"HTTP/1.1"</span>, <span class="seriesInfo">STD 99</span>, <span class="seriesInfo">RFC 9112</span>, <span class="seriesInfo">DOI 10.17487/RFC9112</span>, <time datetime="2022-06" class="refDate">June 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9112">https://www.rfc-editor.org/rfc/rfc9112</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9113">[HTTP/2]</dt>
        <dd>
<span class="refAuthor">Thomson, M., Ed.</span> and <span class="refAuthor">C. Benfield, Ed.</span>, <span class="refTitle">"HTTP/2"</span>, <span class="seriesInfo">RFC 9113</span>, <span class="seriesInfo">DOI 10.17487/RFC9113</span>, <time datetime="2022-06" class="refDate">June 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9113">https://www.rfc-editor.org/rfc/rfc9113</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2046">[RFC2046]</dt>
        <dd>
<span class="refAuthor">Freed, N.</span> and <span class="refAuthor">N. Borenstein</span>, <span class="refTitle">"Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types"</span>, <span class="seriesInfo">RFC 2046</span>, <span class="seriesInfo">DOI 10.17487/RFC2046</span>, <time datetime="1996-11" class="refDate">November 1996</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2046">https://www.rfc-editor.org/rfc/rfc2046</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5789">[RFC5789]</dt>
        <dd>
<span class="refAuthor">Dusseault, L.</span> and <span class="refAuthor">J. Snell</span>, <span class="refTitle">"PATCH Method for HTTP"</span>, <span class="seriesInfo">RFC 5789</span>, <span class="seriesInfo">DOI 10.17487/RFC5789</span>, <time datetime="2010-03" class="refDate">March 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc5789">https://www.rfc-editor.org/rfc/rfc5789</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8126">[RFC8126]</dt>
        <dd>
<span class="refAuthor">Cotton, M.</span>, <span class="refAuthor">Leiba, B.</span>, and <span class="refAuthor">T. Narten</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">BCP 26</span>, <span class="seriesInfo">RFC 8126</span>, <span class="seriesInfo">DOI 10.17487/RFC8126</span>, <time datetime="2017-06" class="refDate">June 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8126">https://www.rfc-editor.org/rfc/rfc8126</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="SSE">[SSE]</dt>
      <dd>
<span class="refTitle">"Server-Sent Events"</span>, <span class="seriesInfo">W3C REC eventsource</span>, <span class="seriesInfo">W3C eventsource</span>, <span>&lt;<a href="https://www.w3.org/TR/eventsource/">https://www.w3.org/TR/eventsource/</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
<div id="sec-informative-references">
<section id="section-14.2">
        <h3 id="name-informative-references">
<a href="#section-14.2" class="section-number selfRef">14.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="FETCH">[FETCH]</dt>
        <dd>
<span class="refTitle">"Fetch - Living Standard"</span>, <span>&lt;<a href="https://fetch.spec.whatwg.org">https://fetch.spec.whatwg.org</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="REST">[REST]</dt>
        <dd>
<span class="refAuthor">Fielding, R. T.</span>, <span class="refTitle">"Architectural Styles and the Design of Network-based Software Architectures"</span>, <span class="refContent">Doctoral Dissertation, University of California, Irvine</span>, <span>&lt;<a href="https://roy.gbiv.com/pubs/dissertation/top.htm">https://roy.gbiv.com/pubs/dissertation/top.htm</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7838">[RFC7838]</dt>
        <dd>
<span class="refAuthor">Nottingham, M.</span>, <span class="refAuthor">McManus, P.</span>, and <span class="refAuthor">J. Reschke</span>, <span class="refTitle">"HTTP Alternative Services"</span>, <span class="seriesInfo">RFC 7838</span>, <span class="seriesInfo">DOI 10.17487/RFC7838</span>, <time datetime="2016-04" class="refDate">April 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7838">https://www.rfc-editor.org/rfc/rfc7838</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9205">[RFC9205]</dt>
        <dd>
<span class="refAuthor">Nottingham, M.</span>, <span class="refTitle">"Building Protocols with HTTP"</span>, <span class="seriesInfo">BCP 56</span>, <span class="seriesInfo">RFC 9205</span>, <span class="seriesInfo">DOI 10.17487/RFC9205</span>, <time datetime="2022-06" class="refDate">June 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9205">https://www.rfc-editor.org/rfc/rfc9205</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="WEBSUB">[WEBSUB]</dt>
        <dd>
<span class="refTitle">"WebSub"</span>, <span class="seriesInfo">W3C REC websub</span>, <span class="seriesInfo">W3C websub</span>, <span>&lt;<a href="https://www.w3.org/TR/websub/">https://www.w3.org/TR/websub/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="WS">[WS]</dt>
      <dd>
<span class="refTitle">"The WebSocket API"</span>, <span class="seriesInfo">W3C NOTE websockets</span>, <span class="seriesInfo">W3C websockets</span>, <span>&lt;<a href="https://www.w3.org/TR/websockets/">https://www.w3.org/TR/websockets/</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
</section>
<section id="appendix-A">
      <h2 id="name-index">
<a href="#name-index" class="section-name selfRef">Index</a>
      </h2>
<div id="rfc.index.index">
<p id="appendix-A-1">
        <a href="#rfc.index.u65" class="internal xref">A</a>
        <a href="#rfc.index.u66" class="internal xref">B</a>
        <a href="#rfc.index.u68" class="internal xref">D</a>
        <a href="#rfc.index.u69" class="internal xref">E</a>
        <a href="#rfc.index.u78" class="internal xref">N</a>
        <a href="#rfc.index.u82" class="internal xref">R</a><a href="#appendix-A-1" class="pilcrow">¶</a></p>
</div>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="appendix-A-2.1">
          <div id="rfc.index.u65">
<p id="appendix-A-2.1.1" class="keepWithNext">
            <a href="#rfc.index.u65" class="internal xref">A</a><a href="#appendix-A-2.1.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact normal ulEmpty">
<li class="compact normal ulEmpty" id="appendix-A-2.1.2.1">
              <span class="break"></span><dl class="dlCompact dlParallel" id="appendix-A-2.1.2.1.1">
                <dt id="appendix-A-2.1.2.1.1.1">Accept-Events</dt>
                <dd style="margin-left: 1.5em" id="appendix-A-2.1.2.1.1.2">
                  <p id="appendix-A-2.1.2.1.1.2.1">
                    <a href="#section-1.2.2-1" class="auto internal xref">Section 1.2.2, Paragraph 1</a>; 
<a href="#section-1.2.2-3" class="auto internal xref">Section 1.2.2, Paragraph 3</a>; 
<a href="#section-1.2.3-1" class="auto internal xref">Section 1.2.3, Paragraph 1</a>; 
<a href="#section-1.2.4.1-1" class="auto internal xref">Section 1.2.4.1, Paragraph 1</a>; 
<a href="#section-1.2.4.3-2" class="auto internal xref">Section 1.2.4.3, Paragraph 2</a>; 
<a href="#section-3.5-2.6.1" class="auto internal xref">Section 3.5, Paragraph 2.6.1</a>; 
<strong><em><a href="#accept-events-header" class="auto internal xref">Section 4.1</a></em></strong>; 
<a href="#section-4.2-2" class="auto internal xref">Section 4.2, Paragraph 2</a>; 
<a href="#section-4.2-3" class="auto internal xref">Section 4.2, Paragraph 3</a>; 
<a href="#section-4.2.1-1" class="auto internal xref">Section 4.2.1, Paragraph 1</a>; 
<a href="#section-5.1-2" class="auto internal xref">Section 5.1, Paragraph 2</a>; 
<a href="#section-5.2-2" class="auto internal xref">Section 5.2, Paragraph 2</a>; 
<a href="#section-5.2-4" class="auto internal xref">Section 5.2, Paragraph 4</a>; 
<a href="#section-5.3-2" class="auto internal xref">Section 5.3, Paragraph 2</a>; 
<a href="#section-6.2-1" class="auto internal xref">Section 6.2, Paragraph 1</a>; 
<a href="#section-6.3-1" class="auto internal xref">Section 6.3, Paragraph 1</a>; 
<a href="#section-7-3.1.1" class="auto internal xref">Section 7, Paragraph 3.1.1</a>; 
<a href="#section-7-6" class="auto internal xref">Section 7, Paragraph 6</a>; 
<a href="#section-8.1-3.1.1" class="auto internal xref">Section 8.1, Paragraph 3.1.1</a>; 
<a href="#section-9.1-2.2.2.1.2.1.1" class="auto internal xref">Section 9.1, Paragraph 2.2.2.1.2.1.1</a>; 
<a href="#section-9.1-2.3.2.1.1" class="auto internal xref">Section 9.1, Paragraph 2.3.2.1.1</a>; 
<a href="#section-10.1-1" class="auto internal xref">Section 10.1, Paragraph 1</a>; 
<a href="#section-12.1-1" class="auto internal xref">Section 12.1, Paragraph 1</a>; 
<a href="#table-2" class="auto internal xref">Table 2</a>; 
<a href="#section-13.2-1" class="auto internal xref">Section 13.2, Paragraph 1</a><a href="#appendix-A-2.1.2.1.1.2.1" class="pilcrow">¶</a></p>
</dd>
                <dd class="break"></dd>
<dt id="appendix-A-2.1.2.1.1.3">application client</dt>
                <dd style="margin-left: 1.5em" id="appendix-A-2.1.2.1.1.4">
                  <p id="appendix-A-2.1.2.1.1.4.1">
                    <a href="#section-3.4-2.2.1" class="auto internal xref">Section 3.4, Paragraph 2.2.1</a>; 
<a href="#section-3.5-2.2.1" class="auto internal xref">Section 3.5, Paragraph 2.2.1</a>; 
<a href="#section-4.1-1" class="auto internal xref">Section 4.1, Paragraph 1</a>; 
<a href="#section-4.1-3" class="auto internal xref">Section 4.1, Paragraph 3</a>; 
<a href="#section-4.1-4" class="auto internal xref">Section 4.1, Paragraph 4</a>; 
<a href="#section-5.2-4" class="auto internal xref">Section 5.2, Paragraph 4</a>; 
<a href="#section-6-1" class="auto internal xref">Section 6, Paragraph 1</a>; 
<a href="#section-6.1-1" class="auto internal xref">Section 6.1, Paragraph 1</a>; 
<a href="#section-7-1" class="auto internal xref">Section 7, Paragraph 1</a>; 
<a href="#section-7-2" class="auto internal xref">Section 7, Paragraph 2</a>; 
<a href="#section-7-3.1.2.1.2.1.1" class="auto internal xref">Section 7, Paragraph 3.1.2.1.2.1.1</a>; 
<a href="#section-8.3-1" class="auto internal xref">Section 8.3, Paragraph 1</a>; 
<a href="#section-9.2.1.1-1" class="auto internal xref">Section 9.2.1.1, Paragraph 1</a>; 
<a href="#section-9.2.2-2.2" class="auto internal xref">Section 9.2.2, Paragraph 2.2</a>; 
<a href="#section-9.3-4.2" class="auto internal xref">Section 9.3, Paragraph 4.2</a>; 
<a href="#section-10-1" class="auto internal xref">Section 10, Paragraph 1</a>; 
<a href="#section-10.1-1" class="auto internal xref">Section 10.1, Paragraph 1</a>; 
<a href="#section-10.2-1" class="auto internal xref">Section 10.2, Paragraph 1</a>; 
<a href="#section-10.4-2" class="auto internal xref">Section 10.4, Paragraph 2</a>; 
<a href="#section-10.4-4" class="auto internal xref">Section 10.4, Paragraph 4</a><a href="#appendix-A-2.1.2.1.1.4.1" class="pilcrow">¶</a></p>
</dd>
              <dd class="break"></dd>
</dl>
</li>
          </ul>
</li>
        <li class="normal ulEmpty" id="appendix-A-2.2">
          <div id="rfc.index.u66">
<p id="appendix-A-2.2.1" class="keepWithNext">
            <a href="#rfc.index.u66" class="internal xref">B</a><a href="#appendix-A-2.2.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact normal ulEmpty">
<li class="compact normal ulEmpty" id="appendix-A-2.2.2.1">
              <span class="break"></span><dl class="dlCompact dlParallel" id="appendix-A-2.2.2.1.1">
                <dt id="appendix-A-2.2.2.1.1.1">base response</dt>
                <dd style="margin-left: 1.5em" id="appendix-A-2.2.2.1.1.2">
                  <p id="appendix-A-2.2.2.1.1.2.1">
                    <a href="#section-7-1" class="auto internal xref">Section 7, Paragraph 1</a>; 
<a href="#section-7-3.2.1" class="auto internal xref">Section 7, Paragraph 3.2.1</a>; 
<a href="#section-7-4.2" class="auto internal xref">Section 7, Paragraph 4.2</a>; 
<a href="#section-9.2.1-1" class="auto internal xref">Section 9.2.1, Paragraph 1</a>; 
<a href="#section-9.2.1.1-1" class="auto internal xref">Section 9.2.1.1, Paragraph 1</a>; 
<a href="#section-9.2.1.1-2" class="auto internal xref">Section 9.2.1.1, Paragraph 2</a>; 
<a href="#section-9.2.1.1-3" class="auto internal xref">Section 9.2.1.1, Paragraph 3</a><a href="#appendix-A-2.2.2.1.1.2.1" class="pilcrow">¶</a></p>
</dd>
              <dd class="break"></dd>
</dl>
</li>
          </ul>
</li>
        <li class="normal ulEmpty" id="appendix-A-2.3">
          <div id="rfc.index.u68">
<p id="appendix-A-2.3.1" class="keepWithNext">
            <a href="#rfc.index.u68" class="internal xref">D</a><a href="#appendix-A-2.3.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact normal ulEmpty">
<li class="compact normal ulEmpty" id="appendix-A-2.3.2.1">
              <span class="break"></span><dl class="dlCompact dlParallel" id="appendix-A-2.3.2.1.1">
                <dt id="appendix-A-2.3.2.1.1.1">delta representation</dt>
                <dd style="margin-left: 1.5em" id="appendix-A-2.3.2.1.1.2">
                  <p id="appendix-A-2.3.2.1.1.2.1">
                    <strong><em><a href="#section-10.4-1" class="auto internal xref">Section 10.4, Paragraph 1</a></em></strong>; 
<a href="#section-10.4-5.1.1" class="auto internal xref">Section 10.4, Paragraph 5.1.1</a>; 
<a href="#section-10.4-5.2.1" class="auto internal xref">Section 10.4, Paragraph 5.2.1</a>; 
<a href="#section-10.4-6" class="auto internal xref">Section 10.4, Paragraph 6</a><a href="#appendix-A-2.3.2.1.1.2.1" class="pilcrow">¶</a></p>
</dd>
              <dd class="break"></dd>
</dl>
</li>
          </ul>
</li>
        <li class="normal ulEmpty" id="appendix-A-2.4">
          <div id="rfc.index.u69">
<p id="appendix-A-2.4.1" class="keepWithNext">
            <a href="#rfc.index.u69" class="internal xref">E</a><a href="#appendix-A-2.4.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact normal ulEmpty">
<li class="compact normal ulEmpty" id="appendix-A-2.4.2.1">
              <span class="break"></span><dl class="dlCompact dlParallel" id="appendix-A-2.4.2.1.1">
                <dt id="appendix-A-2.4.2.1.1.1">event field</dt>
                <dd style="margin-left: 1.5em" id="appendix-A-2.4.2.1.1.2">
                  <p id="appendix-A-2.4.2.1.1.2.1">
                    <a href="#section-4.2-1" class="auto internal xref">Section 4.2, Paragraph 1</a>; 
<a href="#section-5.1-1" class="auto internal xref">Section 5.1, Paragraph 1</a>; 
<a href="#section-5.1-3.1.1" class="auto internal xref">Section 5.1, Paragraph 3.1.1</a>; 
<a href="#section-5.1-3.2.1" class="auto internal xref">Section 5.1, Paragraph 3.2.1</a>; 
<a href="#section-5.1-3.3.1" class="auto internal xref">Section 5.1, Paragraph 3.3.1</a>; 
<a href="#section-6.3-2" class="auto internal xref">Section 6.3, Paragraph 2</a>; 
<a href="#section-7-3.1.2.1.2.1.1" class="auto internal xref">Section 7, Paragraph 3.1.2.1.2.1.1</a>; 
<a href="#section-7-6" class="auto internal xref">Section 7, Paragraph 6</a>; 
<a href="#section-8.1-3.2.1" class="auto internal xref">Section 8.1, Paragraph 3.2.1</a>; 
<a href="#section-8.2-4.1.2.1.1" class="auto internal xref">Section 8.2, Paragraph 4.1.2.1.1</a>; 
<a href="#section-8.2-4.1.2.2.1" class="auto internal xref">Section 8.2, Paragraph 4.1.2.2.1</a>; 
<a href="#section-8.3-3.1.2.1.1" class="auto internal xref">Section 8.3, Paragraph 3.1.2.1.1</a>; 
<a href="#section-8.3-3.1.2.2.1" class="auto internal xref">Section 8.3, Paragraph 3.1.2.2.1</a>; 
<a href="#section-9.1-2.1.2.3.1" class="auto internal xref">Section 9.1, Paragraph 2.1.2.3.1</a>; 
<a href="#section-9.1-2.1.2.3.3" class="auto internal xref">Section 9.1, Paragraph 2.1.2.3.3</a>; 
<a href="#section-9.1-2.3.2.1.2.1.1" class="auto internal xref">Section 9.1, Paragraph 2.3.2.1.2.1.1</a>; 
<a href="#section-10.1-1" class="auto internal xref">Section 10.1, Paragraph 1</a>; 
<a href="#section-10.4-2" class="auto internal xref">Section 10.4, Paragraph 2</a>; 
<a href="#section-10.4-4" class="auto internal xref">Section 10.4, Paragraph 4</a><a href="#appendix-A-2.4.2.1.1.2.1" class="pilcrow">¶</a></p>
</dd>
                <dd class="break"></dd>
<dt id="appendix-A-2.4.2.1.1.3">Events</dt>
                <dd style="margin-left: 1.5em" id="appendix-A-2.4.2.1.1.4">
                  <p id="appendix-A-2.4.2.1.1.4.1">
                    <a href="#section-1.2.4.1-1" class="auto internal xref">Section 1.2.4.1, Paragraph 1</a>; 
<a href="#section-3.5-2.6.1" class="auto internal xref">Section 3.5, Paragraph 2.6.1</a>; 
<strong><em><a href="#events-header" class="auto internal xref">Section 4.2</a></em></strong>; 
<a href="#section-5.1-2" class="auto internal xref">Section 5.1, Paragraph 2</a>; 
<a href="#section-5.2-5" class="auto internal xref">Section 5.2, Paragraph 5</a>; 
<a href="#section-5.2-6" class="auto internal xref">Section 5.2, Paragraph 6</a>; 
<a href="#section-5.3-2" class="auto internal xref">Section 5.3, Paragraph 2</a>; 
<a href="#section-5.3-3" class="auto internal xref">Section 5.3, Paragraph 3</a>; 
<a href="#section-8.1-3.2.1" class="auto internal xref">Section 8.1, Paragraph 3.2.1</a>; 
<a href="#section-8.2-4.1.1" class="auto internal xref">Section 8.2, Paragraph 4.1.1</a>; 
<a href="#section-8.3-3.1.1" class="auto internal xref">Section 8.3, Paragraph 3.1.1</a>; 
<a href="#section-9.1-2.1.2.3.1" class="auto internal xref">Section 9.1, Paragraph 2.1.2.3.1</a>; 
<a href="#section-9.3-2.1.1" class="auto internal xref">Section 9.3, Paragraph 2.1.1</a>; 
<a href="#table-2" class="auto internal xref">Table 2</a>; 
<a href="#section-13.2-1" class="auto internal xref">Section 13.2, Paragraph 1</a><a href="#appendix-A-2.4.2.1.1.4.1" class="pilcrow">¶</a></p>
</dd>
              <dd class="break"></dd>
</dl>
</li>
          </ul>
</li>
        <li class="normal ulEmpty" id="appendix-A-2.5">
          <div id="rfc.index.u78">
<p id="appendix-A-2.5.1" class="keepWithNext">
            <a href="#rfc.index.u78" class="internal xref">N</a><a href="#appendix-A-2.5.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact normal ulEmpty">
<li class="compact normal ulEmpty" id="appendix-A-2.5.2.1">
              <span class="break"></span><dl class="dlCompact dlParallel" id="appendix-A-2.5.2.1.1">
                <dt id="appendix-A-2.5.2.1.1.1">notification</dt>
                <dd style="margin-left: 1.5em" id="appendix-A-2.5.2.1.1.2">
                  <p id="appendix-A-2.5.2.1.1.2.1">
                    <a href="#section-abstract-1" class="auto internal xref">Section Abstract, Paragraph 1</a>; 
<a href="#section-1-1" class="auto internal xref">Section 1, Paragraph 1</a>; 
<a href="#section-1.1-3" class="auto internal xref">Section 1.1, Paragraph 3</a>; 
<a href="#section-1.2.2-1" class="auto internal xref">Section 1.2.2, Paragraph 1</a>; 
<a href="#section-1.2.2-3" class="auto internal xref">Section 1.2.2, Paragraph 3</a>; 
<a href="#section-1.2.4-1" class="auto internal xref">Section 1.2.4, Paragraph 1</a>; 
<a href="#section-1.2.4.1-1" class="auto internal xref">Section 1.2.4.1, Paragraph 1</a>; 
<a href="#section-1.2.4.3-1" class="auto internal xref">Section 1.2.4.3, Paragraph 1</a>; 
<a href="#section-1.2.4.3-2" class="auto internal xref">Section 1.2.4.3, Paragraph 2</a>; 
<a href="#section-1.2.4.3-3" class="auto internal xref">Section 1.2.4.3, Paragraph 3</a>; 
<a href="#section-1.2.4.4-1" class="auto internal xref">Section 1.2.4.4, Paragraph 1</a>; 
<a href="#section-1.3-2.1.1" class="auto internal xref">Section 1.3, Paragraph 2.1.1</a>; 
<a href="#section-1.3-2.2.1" class="auto internal xref">Section 1.3, Paragraph 2.2.1</a>; 
<a href="#section-1.3-2.3.1" class="auto internal xref">Section 1.3, Paragraph 2.3.1</a>; 
<a href="#section-1.3-2.4.1" class="auto internal xref">Section 1.3, Paragraph 2.4.1</a>; 
<a href="#section-1.3-4.2.1" class="auto internal xref">Section 1.3, Paragraph 4.2.1</a>; 
<a href="#section-1.3-4.2.2.1.1" class="auto internal xref">Section 1.3, Paragraph 4.2.2.1.1</a>; 
<a href="#section-1.3-4.2.2.2.1" class="auto internal xref">Section 1.3, Paragraph 4.2.2.2.1</a>; 
<a href="#section-2-1" class="auto internal xref">Section 2, Paragraph 1</a>; 
<a href="#section-2-2" class="auto internal xref">Section 2, Paragraph 2</a>; 
<a href="#section-2-3" class="auto internal xref">Section 2, Paragraph 3</a>; 
<a href="#section-2.1-1" class="auto internal xref">Section 2.1, Paragraph 1</a>; 
<a href="#section-2.2-2.1.1" class="auto internal xref">Section 2.2, Paragraph 2.1.1</a>; 
<a href="#section-2.2-2.2.1" class="auto internal xref">Section 2.2, Paragraph 2.2.1</a>; 
<a href="#section-2.2-2.3.1" class="auto internal xref">Section 2.2, Paragraph 2.3.1</a>; 
<a href="#section-2.3-2.2.1" class="auto internal xref">Section 2.3, Paragraph 2.2.1</a>; 
<a href="#section-2.4-1" class="auto internal xref">Section 2.4, Paragraph 1</a>; 
<a href="#section-2.4-2" class="auto internal xref">Section 2.4, Paragraph 2</a>; 
<a href="#notification" class="auto internal xref">Section 3.5</a>; 
<a href="#section-3.5-2.4.1" class="auto internal xref">Section 3.5, Paragraph 2.4.1</a>; 
<a href="#section-4-1" class="auto internal xref">Section 4, Paragraph 1</a>; 
<a href="#section-4.1-1" class="auto internal xref">Section 4.1, Paragraph 1</a>; 
<a href="#section-4.1-2" class="auto internal xref">Section 4.1, Paragraph 2</a>; 
<a href="#section-4.1-3" class="auto internal xref">Section 4.1, Paragraph 3</a>; 
<a href="#section-4.1-4" class="auto internal xref">Section 4.1, Paragraph 4</a>; 
<a href="#section-4.1.1-1" class="auto internal xref">Section 4.1.1, Paragraph 1</a>; 
<a href="#section-4.1.1-2" class="auto internal xref">Section 4.1.1, Paragraph 2</a>; 
<a href="#section-4.1.2-1" class="auto internal xref">Section 4.1.2, Paragraph 1</a>; 
<a href="#section-4.1.2-2" class="auto internal xref">Section 4.1.2, Paragraph 2</a>; 
<a href="#section-4.1.2-3" class="auto internal xref">Section 4.1.2, Paragraph 3</a>; 
<a href="#section-4.2-1" class="auto internal xref">Section 4.2, Paragraph 1</a>; 
<a href="#section-4.2.2-1" class="auto internal xref">Section 4.2.2, Paragraph 1</a>; 
<a href="#section-5.1-1" class="auto internal xref">Section 5.1, Paragraph 1</a>; 
<a href="#section-5.2-1" class="auto internal xref">Section 5.2, Paragraph 1</a>; 
<a href="#section-5.2-3" class="auto internal xref">Section 5.2, Paragraph 3</a>; 
<a href="#section-5.3-1" class="auto internal xref">Section 5.3, Paragraph 1</a>; 
<a href="#section-5.3-2" class="auto internal xref">Section 5.3, Paragraph 2</a>; 
<a href="#section-5.3-3" class="auto internal xref">Section 5.3, Paragraph 3</a>; 
<a href="#section-6-1" class="auto internal xref">Section 6, Paragraph 1</a>; 
<a href="#section-6.1-1" class="auto internal xref">Section 6.1, Paragraph 1</a>; 
<a href="#section-6.2-1" class="auto internal xref">Section 6.2, Paragraph 1</a>; 
<a href="#section-6.3-1" class="auto internal xref">Section 6.3, Paragraph 1</a>; 
<a href="#section-6.3-2" class="auto internal xref">Section 6.3, Paragraph 2</a>; 
<a href="#section-7-1" class="auto internal xref">Section 7, Paragraph 1</a>; 
<a href="#section-7-2" class="auto internal xref">Section 7, Paragraph 2</a>; 
<a href="#section-7-3.1.2.1.1" class="auto internal xref">Section 7, Paragraph 3.1.2.1.1</a>; 
<a href="#section-7-3.1.2.1.2.1.1" class="auto internal xref">Section 7, Paragraph 3.1.2.1.2.1.1</a>; 
<a href="#section-7-3.2.1" class="auto internal xref">Section 7, Paragraph 3.2.1</a>; 
<a href="#section-7-6" class="auto internal xref">Section 7, Paragraph 6</a>; 
<a href="#section-8.1-1" class="auto internal xref">Section 8.1, Paragraph 1</a>; 
<a href="#section-8.1-2" class="auto internal xref">Section 8.1, Paragraph 2</a>; 
<a href="#section-8.1-4.2" class="auto internal xref">Section 8.1, Paragraph 4.2</a>; 
<a href="#section-8.2-1" class="auto internal xref">Section 8.2, Paragraph 1</a>; 
<a href="#section-8.2-3" class="auto internal xref">Section 8.2, Paragraph 3</a>; 
<a href="#section-8.3-1" class="auto internal xref">Section 8.3, Paragraph 1</a>; 
<a href="#section-8.3-2" class="auto internal xref">Section 8.3, Paragraph 2</a>; 
<a href="#section-8.3-3.1.2.2.1" class="auto internal xref">Section 8.3, Paragraph 3.1.2.2.1</a>; 
<a href="#section-9.1-1" class="auto internal xref">Section 9.1, Paragraph 1</a>; 
<a href="#section-9.1-2.1.2.3.2.3.1" class="auto internal xref">Section 9.1, Paragraph 2.1.2.3.2.3.1</a>; 
<a href="#section-9.1-2.1.2.3.3" class="auto internal xref">Section 9.1, Paragraph 2.1.2.3.3</a>; 
<a href="#section-9.1-2.2.2.1.2.2.1" class="auto internal xref">Section 9.1, Paragraph 2.2.2.1.2.2.1</a>; 
<a href="#section-9.1-2.3.2.1.1" class="auto internal xref">Section 9.1, Paragraph 2.3.2.1.1</a>; 
<a href="#section-9.1-2.3.2.1.2.1.1" class="auto internal xref">Section 9.1, Paragraph 2.3.2.1.2.1.1</a>; 
<a href="#section-9.2-1" class="auto internal xref">Section 9.2, Paragraph 1</a>; 
<a href="#section-9.2-2.1.1" class="auto internal xref">Section 9.2, Paragraph 2.1.1</a>; 
<a href="#section-9.2-2.2.1" class="auto internal xref">Section 9.2, Paragraph 2.2.1</a>; 
<a href="#section-9.2.1-1" class="auto internal xref">Section 9.2.1, Paragraph 1</a>; 
<a href="#section-9.2.1.1-1" class="auto internal xref">Section 9.2.1.1, Paragraph 1</a>; 
<a href="#section-9.2.1.1-2" class="auto internal xref">Section 9.2.1.1, Paragraph 2</a>; 
<a href="#section-9.2.2-1" class="auto internal xref">Section 9.2.2, Paragraph 1</a>; 
<a href="#section-9.2.2-2.2" class="auto internal xref">Section 9.2.2, Paragraph 2.2</a>; 
<a href="#section-9.3-1" class="auto internal xref">Section 9.3, Paragraph 1</a>; 
<a href="#section-9.3-2.2.1" class="auto internal xref">Section 9.3, Paragraph 2.2.1</a>; 
<a href="#section-9.3-4.2" class="auto internal xref">Section 9.3, Paragraph 4.2</a>; 
<a href="#section-10-1" class="auto internal xref">Section 10, Paragraph 1</a>; 
<a href="#section-10.1-1" class="auto internal xref">Section 10.1, Paragraph 1</a>; 
<a href="#section-10.2-1" class="auto internal xref">Section 10.2, Paragraph 1</a>; 
<a href="#section-10.2-3" class="auto internal xref">Section 10.2, Paragraph 3</a>; 
<a href="#section-10.3-1" class="auto internal xref">Section 10.3, Paragraph 1</a>; 
<a href="#section-10.3-2.2.1" class="auto internal xref">Section 10.3, Paragraph 2.2.1</a>; 
<a href="#section-10.3-2.4.1" class="auto internal xref">Section 10.3, Paragraph 2.4.1</a>; 
<a href="#section-10.3-2.6.1" class="auto internal xref">Section 10.3, Paragraph 2.6.1</a>; 
<a href="#section-10.3-3" class="auto internal xref">Section 10.3, Paragraph 3</a>; 
<a href="#section-10.3-4.2.1" class="auto internal xref">Section 10.3, Paragraph 4.2.1</a>; 
<a href="#section-10.3-6" class="auto internal xref">Section 10.3, Paragraph 6</a>; 
<a href="#section-10.4-1" class="auto internal xref">Section 10.4, Paragraph 1</a>; 
<a href="#section-10.4-2" class="auto internal xref">Section 10.4, Paragraph 2</a>; 
<a href="#section-10.4-3" class="auto internal xref">Section 10.4, Paragraph 3</a>; 
<a href="#section-10.4-4" class="auto internal xref">Section 10.4, Paragraph 4</a>; 
<a href="#section-10.4-5.1.1" class="auto internal xref">Section 10.4, Paragraph 5.1.1</a>; 
<a href="#section-10.4-5.2.1" class="auto internal xref">Section 10.4, Paragraph 5.2.1</a>; 
<a href="#section-11-1" class="auto internal xref">Section 11, Paragraph 1</a>; 
<a href="#section-11-4" class="auto internal xref">Section 11, Paragraph 4</a>; 
<a href="#section-11-5" class="auto internal xref">Section 11, Paragraph 5</a>; 
<a href="#section-11-6" class="auto internal xref">Section 11, Paragraph 6</a>; 
<a href="#section-12-1" class="auto internal xref">Section 12, Paragraph 1</a>; 
<a href="#section-12-2" class="auto internal xref">Section 12, Paragraph 2</a>; 
<a href="#section-12.2-1" class="auto internal xref">Section 12.2, Paragraph 1</a>; 
<a href="#section-13.2-1" class="auto internal xref">Section 13.2, Paragraph 1</a>; 
<a href="#section-13.2-2" class="auto internal xref">Section 13.2, Paragraph 2</a>; 
<a href="#section-13.2-6" class="auto internal xref">Section 13.2, Paragraph 6</a><a href="#appendix-A-2.5.2.1.1.2.1" class="pilcrow">¶</a></p>
</dd>
              <dd class="break"></dd>
</dl>
</li>
          </ul>
</li>
        <li class="normal ulEmpty" id="appendix-A-2.6">
          <div id="rfc.index.u82">
<p id="appendix-A-2.6.1" class="keepWithNext">
            <a href="#rfc.index.u82" class="internal xref">R</a><a href="#appendix-A-2.6.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact normal ulEmpty">
<li class="compact normal ulEmpty" id="appendix-A-2.6.2.1">
              <span class="break"></span><dl class="dlCompact dlParallel" id="appendix-A-2.6.2.1.1">
                <dt id="appendix-A-2.6.2.1.1.1">resource server</dt>
                <dd style="margin-left: 1.5em" id="appendix-A-2.6.2.1.1.2">
                  <p id="appendix-A-2.6.2.1.1.2.1">
                    <a href="#section-3.4-2.2.1" class="auto internal xref">Section 3.4, Paragraph 2.2.1</a>; 
<a href="#section-4.1-2" class="auto internal xref">Section 4.1, Paragraph 2</a>; 
<a href="#section-4.2-1" class="auto internal xref">Section 4.2, Paragraph 1</a>; 
<a href="#section-4.2-2" class="auto internal xref">Section 4.2, Paragraph 2</a>; 
<a href="#section-4.2-3" class="auto internal xref">Section 4.2, Paragraph 3</a>; 
<a href="#section-5.2-2" class="auto internal xref">Section 5.2, Paragraph 2</a>; 
<a href="#section-5.2-5" class="auto internal xref">Section 5.2, Paragraph 5</a>; 
<a href="#section-5.2-6" class="auto internal xref">Section 5.2, Paragraph 6</a>; 
<a href="#section-5.3-2" class="auto internal xref">Section 5.3, Paragraph 2</a>; 
<a href="#section-6-1" class="auto internal xref">Section 6, Paragraph 1</a>; 
<a href="#section-6.1-1" class="auto internal xref">Section 6.1, Paragraph 1</a>; 
<a href="#section-6.2-1" class="auto internal xref">Section 6.2, Paragraph 1</a>; 
<a href="#section-6.3-1" class="auto internal xref">Section 6.3, Paragraph 1</a>; 
<a href="#section-6.3-2" class="auto internal xref">Section 6.3, Paragraph 2</a>; 
<a href="#section-6.3-4.2" class="auto internal xref">Section 6.3, Paragraph 4.2</a>; 
<a href="#section-6.3-4.3" class="auto internal xref">Section 6.3, Paragraph 4.3</a>; 
<a href="#section-7-2" class="auto internal xref">Section 7, Paragraph 2</a>; 
<a href="#section-7-3.2.1" class="auto internal xref">Section 7, Paragraph 3.2.1</a>; 
<a href="#section-7-4.2" class="auto internal xref">Section 7, Paragraph 4.2</a>; 
<a href="#section-7-6" class="auto internal xref">Section 7, Paragraph 6</a>; 
<a href="#section-8.1-1" class="auto internal xref">Section 8.1, Paragraph 1</a>; 
<a href="#section-8.1-2" class="auto internal xref">Section 8.1, Paragraph 2</a>; 
<a href="#section-8.1-4.2" class="auto internal xref">Section 8.1, Paragraph 4.2</a>; 
<a href="#section-8.2-1" class="auto internal xref">Section 8.2, Paragraph 1</a>; 
<a href="#section-8.2-3" class="auto internal xref">Section 8.2, Paragraph 3</a>; 
<a href="#section-8.3-1" class="auto internal xref">Section 8.3, Paragraph 1</a>; 
<a href="#section-8.3-2" class="auto internal xref">Section 8.3, Paragraph 2</a>; 
<a href="#section-9.1-1" class="auto internal xref">Section 9.1, Paragraph 1</a>; 
<a href="#section-9.1-2.2.2.1.2.2.1" class="auto internal xref">Section 9.1, Paragraph 2.2.2.1.2.2.1</a>; 
<a href="#section-9.1-2.3.2.1.1" class="auto internal xref">Section 9.1, Paragraph 2.3.2.1.1</a>; 
<a href="#section-9.2-1" class="auto internal xref">Section 9.2, Paragraph 1</a>; 
<a href="#section-9.2.1-1" class="auto internal xref">Section 9.2.1, Paragraph 1</a>; 
<a href="#section-9.2.1.1-2" class="auto internal xref">Section 9.2.1.1, Paragraph 2</a>; 
<a href="#section-9.2.1.1-3" class="auto internal xref">Section 9.2.1.1, Paragraph 3</a>; 
<a href="#section-9.2.2-1" class="auto internal xref">Section 9.2.2, Paragraph 1</a>; 
<a href="#section-9.2.2-2.2" class="auto internal xref">Section 9.2.2, Paragraph 2.2</a>; 
<a href="#section-9.3-1" class="auto internal xref">Section 9.3, Paragraph 1</a>; 
<a href="#section-9.3-3" class="auto internal xref">Section 9.3, Paragraph 3</a>; 
<a href="#section-10.2-1" class="auto internal xref">Section 10.2, Paragraph 1</a>; 
<a href="#section-10.3-1" class="auto internal xref">Section 10.3, Paragraph 1</a>; 
<a href="#section-10.3-3" class="auto internal xref">Section 10.3, Paragraph 3</a>; 
<a href="#section-10.3-6" class="auto internal xref">Section 10.3, Paragraph 6</a>; 
<a href="#section-10.4-4" class="auto internal xref">Section 10.4, Paragraph 4</a>; 
<a href="#section-10.4-6" class="auto internal xref">Section 10.4, Paragraph 6</a><a href="#appendix-A-2.6.2.1.1.2.1" class="pilcrow">¶</a></p>
</dd>
              <dd class="break"></dd>
</dl>
</li>
          </ul>
</li>
      </ul>
</section>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-address">
<a href="#name-authors-address" class="section-name selfRef">Author's Address</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Rahul Gupta</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:cxres+ietf@protonmail.com" class="email">cxres+ietf@protonmail.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
